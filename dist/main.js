(()=>{var u,d,c,p,f,o,t,s={4497:(t,e,n)=>{"use strict";n.a(t,async(t,e)=>{try{var s=n(503),i=new s.lgM,r=(await i.init({background:"#1099bb",resizeTo:window}),document.body.appendChild(i.canvas),await s.sP.load("./assets/bg.png")),a=new s.kxk(r);a.anchor.set(.5),a.x=i.screen.width/2,a.y=i.screen.height/2,i.stage.addChild(a),i.ticker.add(function(t){a.rotation+=.1*t.deltaTime}),e()}catch(t){e(t)}},1)},6570:t=>{"use strict";function e(t,e,s){s=s||2;var i,r,a,n,h,o=e&&e.length,l=o?e[0]*s:t.length,u=m(t,0,l,s,!0),d=[];if(u&&u.next!==u.prev){if(o&&(u=function(t,e,s,i){var r,a,n,h,o=[];for(r=0,a=e.length;r<a;r++)h=e[r]*i,n=r<a-1?e[r+1]*i:t.length,(h=m(t,h,n,i,!1))===h.next&&(h.steiner=!0),o.push(function(t){var e=t,s=t;for(;(e.x<s.x||e.x===s.x&&e.y<s.y)&&(s=e),e=e.next,e!==t;);return s}(h));for(o.sort(g),r=0;r<o.length;r++)s=function(t,e){var s=function(t,e){var s,i=e,r=t.x,a=t.y,n=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var h=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(h<=r&&n<h&&(n=h,s=i.x<i.next.x?i:i.next,h===r))return s}}while(i=i.next,i!==e);if(!s)return null;var o,l=s,u=s.x,d=s.y,c=1/0;i=s;for(;r>=i.x&&i.x>=u&&r!==i.x&&k(a<d?r:n,a,u,d,a<d?n:r,a,i.x,i.y)&&(o=Math.abs(a-i.y)/(r-i.x),R(i,t))&&(o<c||o===c&&(i.x>s.x||i.x===s.x&&function(t,e){return T(t.prev,t,e.prev)<0&&T(e.next,t,t.next)<0}(s,i)))&&(s=i,c=o),i=i.next,i!==l;);return s}(t,e);return s?(C(t=B(s,t),t.next),C(s,s.next)):e}(o[r],s);return s}(t,e,u,s)),t.length>80*s){for(var c=i=t[0],p=r=t[1],f=s;f<l;f+=s)(a=t[f])<c&&(c=a),(n=t[f+1])<p&&(p=n),i<a&&(i=a),r<n&&(r=n);h=0!==(h=Math.max(i-c,r-p))?32767/h:0}P(u,d,s,c,p,h,0)}return d}function m(t,e,s,i,r){var a,n;if(r===0<y(t,e,s,i))for(a=e;a<s;a+=i)n=h(a,t[a],t[a+1],n);else for(a=s-i;e<=a;a-=i)n=h(a,t[a],t[a+1],n);return n&&E(n,n.next)&&(L(n),n=n.next),n}function C(t,e){if(!t)return t;e=e||t;var s,i=t;do{if(s=!1,i.steiner||!E(i,i.next)&&0!==T(i.prev,i,i.next))i=i.next;else{if(L(i),(i=e=i.prev)===i.next)break;s=!0}}while(s||i!==e);return e}function P(t,e,s,i,r,a,n){if(t){if(!n&&a){for(var h=t,o=i,l=r,u=a,d=h;0===d.z&&(d.z=S(d.x,d.y,o,l,u)),d.prevZ=d.prev,d.nextZ=d.next,(d=d.next)!==h;);d.prevZ.nextZ=null,d.prevZ=null;var c,p,f,m,g,y,_,v,x=d,b=1;do{for(p=x,g=x=null,y=0;p;){for(y++,f=p,c=_=0;c<b&&(_++,f=f.nextZ);c++);for(v=b;0<_||0<v&&f;)0!==_&&(0===v||!f||p.z<=f.z)?(p=(m=p).nextZ,_--):(f=(m=f).nextZ,v--),g?g.nextZ=m:x=m,m.prevZ=g,g=m;p=f}}while(g.nextZ=null,b*=2,1<y)}for(var A,w,M=t;t.prev!==t.next;)if(A=t.prev,w=t.next,a?function(t,e,s,i){var r=t.prev,a=t,n=t.next;if(0<=T(r,a,n))return;var h=r.x,o=a.x,l=n.x,u=r.y,d=a.y,c=n.y,p=h<o?h<l?h:l:o<l?o:l,f=u<d?u<c?u:c:d<c?d:c,m=o<h?l<h?h:l:l<o?o:l,g=d<u?c<u?u:c:c<d?d:c,y=S(p,f,e,s,i),_=S(m,g,e,s,i),v=t.prevZ,x=t.nextZ;for(;v&&v.z>=y&&x&&x.z<=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==n&&k(h,u,o,d,l,c,v.x,v.y)&&0<=T(v.prev,v,v.next))return;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==n&&k(h,u,o,d,l,c,x.x,x.y)&&0<=T(x.prev,x,x.next))return;x=x.nextZ}for(;v&&v.z>=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==n&&k(h,u,o,d,l,c,v.x,v.y)&&0<=T(v.prev,v,v.next))return;v=v.prevZ}for(;x&&x.z<=_;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==n&&k(h,u,o,d,l,c,x.x,x.y)&&0<=T(x.prev,x,x.next))return;x=x.nextZ}return 1}(t,i,r,a):function(t){var e=t.prev,s=t,t=t.next;if(0<=T(e,s,t))return;var i=e.x,r=s.x,a=t.x,n=e.y,h=s.y,o=t.y,l=i<r?i<a?i:a:r<a?r:a,u=n<h?n<o?n:o:h<o?h:o,d=r<i?a<i?i:a:a<r?r:a,c=h<n?o<n?n:o:o<h?h:o,p=t.next;for(;p!==e;){if(p.x>=l&&p.x<=d&&p.y>=u&&p.y<=c&&k(i,n,r,h,a,o,p.x,p.y)&&0<=T(p.prev,p,p.next))return;p=p.next}return 1}(t))e.push(A.i/s|0),e.push(t.i/s|0),e.push(w.i/s|0),L(t),t=w.next,M=w.next;else if((t=w)===M){n?1===n?P(t=function(t,e,s){var i=t;do{var r=i.prev,a=i.next.next}while(!E(r,a)&&I(r,i,i.next,a)&&R(r,a)&&R(a,r)&&(e.push(r.i/s|0),e.push(i.i/s|0),e.push(a.i/s|0),L(i),L(i.next),i=t=a),i=i.next,i!==t);return C(i)}(C(t),e,s),e,s,i,r,a,2):2===n&&function(t,e,s,i,r,a){var n=t;do{for(var h,o=n.next.next;o!==n.prev;){if(n.i!==o.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var s=t;do{if(s.i!==t.i&&s.next.i!==t.i&&s.i!==e.i&&s.next.i!==e.i&&I(s,s.next,t,e))return 1}while(s=s.next,s!==t);return}(t,e)&&(R(t,e)&&R(e,t)&&function(t,e){var s=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;for(;s.y>a!=s.next.y>a&&s.next.y!==s.y&&r<(s.next.x-s.x)*(a-s.y)/(s.next.y-s.y)+s.x&&(i=!i),s=s.next,s!==t;);return i}(t,e)&&(T(t.prev,t,e.prev)||T(t,e.prev,e))||E(t,e)&&0<T(t.prev,t,t.next)&&0<T(e.prev,e,e.next))}(n,o))return h=B(n,o),n=C(n,n.next),h=C(h,h.next),P(n,e,s,i,r,a,0),P(h,e,s,i,r,a,0);o=o.next}}while(n=n.next,n!==t)}(t,e,s,i,r,a):P(C(t),e,s,i,r,a,1);break}}}function g(t,e){return t.x-e.x}function S(t,e,s,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-s)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function k(t,e,s,i,r,a,n,h){return(t-n)*(a-h)<=(r-n)*(e-h)&&(s-n)*(e-h)<=(t-n)*(i-h)&&(r-n)*(i-h)<=(s-n)*(a-h)}function T(t,e,s){return(e.y-t.y)*(s.x-e.x)-(e.x-t.x)*(s.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function I(t,e,s,i){var r=l(T(t,e,s)),a=l(T(t,e,i)),n=l(T(s,i,t)),h=l(T(s,i,e));return r!==a&&n!==h||0===r&&o(t,s,e)||0===a&&o(t,i,e)||0===n&&o(s,t,i)||!(0!==h||!o(s,e,i))}function o(t,e,s){return e.x<=Math.max(t.x,s.x)&&e.x>=Math.min(t.x,s.x)&&e.y<=Math.max(t.y,s.y)&&e.y>=Math.min(t.y,s.y)}function l(t){return 0<t?1:t<0?-1:0}function R(t,e){return T(t.prev,t,t.next)<0?0<=T(t,e,t.next)&&0<=T(t,t.prev,e):T(t,e,t.prev)<0||T(t,t.next,e)<0}function B(t,e){var s=new n(t.i,t.x,t.y),i=new n(e.i,e.x,e.y),r=t.next,a=e.prev;return(t.next=e).prev=t,(s.next=r).prev=s,(i.next=s).prev=i,(a.next=i).prev=a,i}function h(t,e,s,i){t=new n(t,e,s);return i?(t.next=i.next,(t.prev=i).next.prev=t,i.next=t):(t.prev=t).next=t,t}function L(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function n(t,e,s){this.i=t,this.x=e,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function y(t,e,s,i){for(var r=0,a=e,n=s-i;a<s;a+=i)r+=(t[n]-t[a])*(t[a+1]+t[n+1]),n=a;return r}t.exports=e,(t.exports.default=e).deviation=function(t,e,s,i){var r=e&&e.length,a=r?e[0]*s:t.length,n=Math.abs(y(t,0,a,s));if(r)for(var h=0,o=e.length;h<o;h++){var l=e[h]*s,u=h<o-1?e[h+1]*s:t.length;n-=Math.abs(y(t,l,u,s))}for(var d=0,h=0;h<i.length;h+=3){var c=i[h]*s,p=i[h+1]*s,f=i[h+2]*s;d+=Math.abs((t[c]-t[f])*(t[1+p]-t[1+c])-(t[c]-t[p])*(t[1+f]-t[1+c]))}return 0===n&&0===d?0:Math.abs((d-n)/n)},e.flatten=function(t){for(var e=t[0][0].length,s={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var a=0;a<t[r].length;a++)for(var n=0;n<e;n++)s.vertices.push(t[r][a][n]);0<r&&(i+=t[r-1].length,s.holes.push(i))}return s}},228:t=>{"use strict";var i=Object.prototype.hasOwnProperty,p="~";function s(){}function a(t,e,s){this.fn=t,this.context=e,this.once=s||!1}function r(t,e,s,i,r){if("function"!=typeof s)throw new TypeError("The listener must be a function");s=new a(s,i||t,r),i=p?p+e:e;return t._events[i]?t._events[i].fn?t._events[i]=[t._events[i],s]:t._events[i].push(s):(t._events[i]=s,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new s:delete t._events[e]}function e(){this._events=new s,this._eventsCount=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(p=!1)),e.prototype.eventNames=function(){var t,e,s=[];if(0===this._eventsCount)return s;for(e in t=this._events)i.call(t,e)&&s.push(p?e.slice(1):e);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(t)):s},e.prototype.listeners=function(t){var t=p?p+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var s=0,i=e.length,r=new Array(i);s<i;s++)r[s]=e[s].fn;return r},e.prototype.listenerCount=function(t){t=p?p+t:t,t=this._events[t];return t?t.fn?1:t.length:0},e.prototype.emit=function(t,e,s,i,r,a){var n=p?p+t:t;if(!this._events[n])return!1;var h,o=this._events[n],l=arguments.length;if(o.fn){switch(o.once&&this.removeListener(t,o.fn,void 0,!0),l){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,e),!0;case 3:return o.fn.call(o.context,e,s),!0;case 4:return o.fn.call(o.context,e,s,i),!0;case 5:return o.fn.call(o.context,e,s,i,r),!0;case 6:return o.fn.call(o.context,e,s,i,r,a),!0}for(c=1,h=new Array(l-1);c<l;c++)h[c-1]=arguments[c];o.fn.apply(o.context,h)}else for(var u,d=o.length,c=0;c<d;c++)switch(o[c].once&&this.removeListener(t,o[c].fn,void 0,!0),l){case 1:o[c].fn.call(o[c].context);break;case 2:o[c].fn.call(o[c].context,e);break;case 3:o[c].fn.call(o[c].context,e,s);break;case 4:o[c].fn.call(o[c].context,e,s,i);break;default:if(!h)for(u=1,h=new Array(l-1);u<l;u++)h[u-1]=arguments[u];o[c].fn.apply(o[c].context,h)}return!0},e.prototype.on=function(t,e,s){return r(this,t,e,s,!1)},e.prototype.once=function(t,e,s){return r(this,t,e,s,!0)},e.prototype.removeListener=function(t,e,s,i){t=p?p+t:t;if(this._events[t])if(e){var r=this._events[t];if(r.fn)r.fn!==e||i&&!r.once||s&&r.context!==s||o(this,t);else{for(var a=0,n=[],h=r.length;a<h;a++)(r[a].fn!==e||i&&!r[a].once||s&&r[a].context!==s)&&n.push(r[a]);n.length?this._events[t]=1===n.length?n[0]:n:o(this,t)}}else o(this,t);return this},e.prototype.removeAllListeners=function(t){return t?(t=p?p+t:t,this._events[t]&&o(this,t)):(this._events=new s,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=p,t.exports=e.EventEmitter=e},8133:t=>{t.exports=function(t){var r=[];return t.replace(e,function(t,e,s){var i=e.toLowerCase();for(s=function(t){t=t.match(n);return t?t.map(Number):[]}(s),"m"==i&&2<s.length&&(r.push([e].concat(s.splice(0,2))),i="l",e="m"==e?"l":"L");;){if(s.length==a[i])return s.unshift(e),r.push(s);if(s.length<a[i])throw new Error("malformed path data");r.push([e].concat(s.splice(0,a[i])))}}),r};var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi;var n=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},4486:(t,e,s)=>{"use strict";s.d(e,{A:()=>i});const i=s(228)},1979:(t,e,s)=>{"use strict";s.d(e,{l:()=>i});var h=s(268),o=s(2406);const i=new class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){var e=this._cache.get(t);return e||(0,h.R)(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,s){var e=(0,o.z)(t);let i;for(let t=0;t<this.parsers.length;t++){var r=this.parsers[t];if(r.test(s)){i=r.getCacheableAssets(e,s);break}}const a=new Map(Object.entries(i||{}));i||e.forEach(t=>{a.set(t,s)});t=[...a.keys()];const n={cacheKeys:t,keys:e};e.forEach(t=>{this._cacheMap.set(t,n)}),t.forEach(t=>{var e=i?i[t]:s;this._cache.has(t)&&this._cache.get(t)!==e&&(0,h.R)("[Cache] already has key:",t),this._cache.set(t,a.get(t))})}remove(t){var e;this._cacheMap.has(t)?((e=this._cacheMap.get(t)).cacheKeys.forEach(t=>{this._cache.delete(t)}),e.keys.forEach(t=>{this._cacheMap.delete(t)})):(0,h.R)(`[Assets] Asset id ${t} was not found in the Cache`)}get parsers(){return this._parsers}}},4589:(t,e,s)=>{"use strict";s.d(e,{T:()=>i});var i=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(i||{})},1173:(t,e,s)=>{"use strict";s.d(e,{x:()=>n});var i=s(268),a=s(2927),l=s(2406);function u(t){var e=t.match(/\{(.*?)\}/g),s=[];if(e){const i=[];e.forEach(t=>{t=t.substring(1,t.length-1).split(",");i.push(t)}),!function e(s,i,r,a,n){var h=i[r];for(let t=0;t<h.length;t++){var o=h[t];r<i.length-1?e(s.replace(a[r],o),i,r+1,a,n):n.push(s.replace(a[r],o))}}(t,i,0,e,s)}else s.push(t);return s}var r=s(2217);class n{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>""+t+this._bundleIdConnector+e,extractAssetIdFromBundle:(t,e)=>e.replace(""+t+this._bundleIdConnector,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,"bar"!==this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar")))throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if("string"==typeof t)this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t])).join("&")}}getAlias(t){var{alias:t,src:e}=t;return(0,l.z)(t||e,t=>"string"==typeof t?t:Array.isArray(t)?t.map(t=>t?.src??t):t?.src?t.src:t,!0)}addManifest(t){this._manifest&&(0,i.R)("[Resolver] Manifest already exists, this will be overwritten"),(this._manifest=t).bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(a,t){const n=[];let e=t;(e=Array.isArray(t)?e:Object.entries(t).map(([t,e])=>"string"==typeof e||Array.isArray(e)?{alias:t,src:e}:{alias:t,...e})).forEach(t=>{var e,s=t.src,i=t.alias;let r;r="string"==typeof i?(e=this._createBundleAssetId(a,i),n.push(e),[i,e]):(e=i.map(t=>this._createBundleAssetId(a,t)),n.push(...e),[...i,...e]),this.add({...t,alias:r,src:s})}),this._bundles[a]=n}add(t){var e=[];Array.isArray(t)?e.push(...t):e.push(t);let s;s=t=>{this.hasKey(t)&&(0,i.R)(`[Resolver] already has key: ${t} overwriting`)},(0,l.z)(e).forEach(t=>{var e=t["src"];let{data:r,format:a,loadParser:n}=t;e=(0,l.z)(e).map(t=>"string"==typeof t?u(t):Array.isArray(t)?t:[t]);const h=this.getAlias(t),o=(Array.isArray(h)?h.forEach(s):s(h),[]);e.forEach(t=>{t.forEach(e=>{let s={};if("object"!=typeof e){s.src=e;for(let t=0;t<this._parsers.length;t++){var i=this._parsers[t];if(i.test(e)){s=i.parse(e);break}}}else r=e.data??r,a=e.format??a,n=e.loadParser??n,s={...s,...e};if(!h)throw new Error("[Resolver] alias is undefined for this asset: "+s.src);s=this._buildResolvedAsset(s,{aliases:h,data:r,format:a,loadParser:n}),o.push(s)})}),h.forEach(t=>{this._assetMap[t]=o})})}resolveBundle(t){var e=(0,r.a)(t);t=(0,l.z)(t);const n={};return t.forEach(t=>{var e=this._bundles[t];if(e){var s=this.resolve(e),i={};for(const a in s){var r=s[a];i[this._extractAssetIdFromBundle(t,a)]=r}n[t]=i}}),e?n[t[0]]:n}resolveUrl(t){var e=this.resolve(t);if("string"==typeof t)return e.src;var s={};for(const i in e)s[i]=e[i].src;return s}resolve(t){var e=(0,r.a)(t);t=(0,l.z)(t);const s={};return t.forEach(t=>{if(!this._resolverHash[t])if(this._assetMap[t]){let i=this._assetMap[t];const e=this._getPreferredOrder(i);e?.priority.forEach(s=>{e.params[s].forEach(e=>{var t=i.filter(t=>!!t[s]&&t[s]===e);t.length&&(i=t)})}),this._resolverHash[t]=i[0]}else this._resolverHash[t]=this._buildResolvedAsset({alias:[t],src:t},{});s[t]=this._resolverHash[t]}),e?s[t[0]]:s}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const i=e[0];var s=this._preferredOrder.find(t=>t.params.format.includes(i.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(t){return this._defaultSearchParams?t+(/\?/.test(t)?"&":"?")+this._defaultSearchParams:t}_buildResolvedAsset(t,e){var{aliases:e,data:s,loadParser:i,format:r}=e;return(this._basePath||this._rootPath)&&(t.src=a.A.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=e??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...s||{},...t.data},t.loadParser=i??t.loadParser,t.format=r??t.format??t.src.split(".").pop().split("?").shift().split("#").shift(),t}}n.RETINA_PREFIX=/@([0-9\.]+)x/},2406:(t,e,s)=>{"use strict";s.d(e,{z:()=>i});const i=(t,e,s=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(t=>"string"==typeof t||s?e(t):t):t)},2233:(t,e,s)=>{"use strict";s.d(e,{Y:()=>i});const i=(t,e)=>{e=e.split("?")[1];return e&&(t+="?"+e),t}},2217:(t,e,s)=>{"use strict";s.d(e,{a:()=>i});const i=t=>!Array.isArray(t)},2577:(t,e,s)=>{"use strict";s.d(e,{Q:()=>B});function r(t){return"string"==typeof t?0<t.length:"number"==typeof t}function a(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=Math.pow(10,e)),Math.round(s*t)/s+0}function n(t,e,s){return void 0===e&&(e=0),(s=void 0===s?1:s)<t?s:e<t?t:e}function h(t){return 0<(t=isFinite(t)?t%360:0)?t:t+360}function o(t){return{r:n(t.r,0,255),g:n(t.g,0,255),b:n(t.b,0,255),a:n(t.a)}}function l(t){return{r:a(t.r),g:a(t.g),b:a(t.b),a:a(t.a,3)}}function u(t){return(t=t.toString(16)).length<2?"0"+t:t}function d(t){var e=t.r,s=t.g,i=t.b,t=t.a,r=Math.max(e,s,i),a=r-Math.min(e,s,i);return{h:60*((i=a?r===e?(s-i)/a:r===s?2+(i-e)/a:4+(e-s)/a:0)<0?6+i:i),s:r?a/r*100:0,v:r/255*100,a:t}}function c(t){var e=t.h,s=t.s,i=t.v,t=t.a,e=e/360*6,r=(s/=100,i/=100,Math.floor(e)),a=i*(1-s),n=i*(1-(e-r)*s);return{r:255*[i,n,a,a,e=i*(1-(1-e+r)*s),i][s=r%6],g:255*[e,i,i,n,a,a][s],b:255*[a,a,e,i,i,n][s],a:t}}function p(t){return{h:h(t.h),s:n(t.s,0,100),l:n(t.l,0,100),a:n(t.a)}}function f(t){return{h:a(t.h),s:a(t.s),l:a(t.l),a:a(t.a,3)}}function m(t){return c((e=t.s,{h:t.h,s:0<(e*=((s=t.l)<50?s:100-s)/100)?2*e/(s+e)*100:0,v:s+e,a:t.a}));var e,s}function g(t){return{h:(t=d(t)).h,s:0<(i=(200-(e=t.s))*(s=t.v)/100)&&i<200?e*s/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var e,s,i}function i(t){return"string"==typeof t?S(t.trim(),P.string):"object"==typeof t&&null!==t?S(t,P.object):[null,void 0]}function y(t,e){return{h:(t=g(t)).h,s:n(t.s+100*e,0,100),l:t.l,a:t.a}}function _(t){return(299*t.r+587*t.g+114*t.b)/1e3/255}function v(t,e){return{h:(t=g(t)).h,s:t.s,l:n(t.l+100*e,0,100),a:t.a}}var x={grad:.9,turn:360,rad:360/(2*Math.PI)},b=/^#([0-9a-f]{3,8})$/i,A=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,w=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,M=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,C=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P={string:[[function(t){var e=b.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?a(parseInt(t[3]+t[3],16)/255,2):1}:6===t.length||8===t.length?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:8===t.length?a(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){t=M.exec(t)||C.exec(t);return!t||t[2]!==t[4]||t[4]!==t[6]?null:o({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)})},"rgb"],[function(t){var e,s,t=A.exec(t)||w.exec(t);return t?(s=p({h:(s=t[1],void 0===(e=t[2])&&(e="deg"),Number(s)*(x[e]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)}),m(s)):null},"hsl"]],object:[[function(t){var e=t.r,s=t.g,i=t.b,t=t.a,t=void 0===t?1:t;return r(e)&&r(s)&&r(i)?o({r:Number(e),g:Number(s),b:Number(i),a:Number(t)}):null},"rgb"],[function(t){var e=t.h,s=t.s,i=t.l,t=t.a,t=void 0===t?1:t;return r(e)&&r(s)&&r(i)?(e=p({h:Number(e),s:Number(s),l:Number(i),a:Number(t)}),m(e)):null},"hsl"],[function(t){var e=t.h,s=t.s,i=t.v,t=t.a,t=void 0===t?1:t;return r(e)&&r(s)&&r(i)?(e={h:Number(e),s:Number(s),v:Number(i),a:Number(t)},s={h:h(e.h),s:n(e.s,0,100),v:n(e.v,0,100),a:n(e.a)},c(s)):null},"hsv"]]},S=function(t,e){for(var s=0;s<e.length;s++){var i=e[s][0](t);if(i)return[i,e[s][1]]}return[null,void 0]},k=(I.prototype.isValid=function(){return null!==this.parsed},I.prototype.brightness=function(){return a(_(this.rgba),2)},I.prototype.isDark=function(){return _(this.rgba)<.5},I.prototype.isLight=function(){return.5<=_(this.rgba)},I.prototype.toHex=function(){return t=(i=l(this.rgba)).r,e=i.g,s=i.b,i=(i=i.a)<1?u(a(255*i)):"","#"+u(t)+u(e)+u(s)+i;var t,e,s,i},I.prototype.toRgb=function(){return l(this.rgba)},I.prototype.toRgbString=function(){return t=(i=l(this.rgba)).r,e=i.g,s=i.b,(i=i.a)<1?"rgba("+t+", "+e+", "+s+", "+i+")":"rgb("+t+", "+e+", "+s+")";var t,e,s,i},I.prototype.toHsl=function(){return f(g(this.rgba))},I.prototype.toHslString=function(){return t=(i=f(g(this.rgba))).h,e=i.s,s=i.l,(i=i.a)<1?"hsla("+t+", "+e+"%, "+s+"%, "+i+")":"hsl("+t+", "+e+"%, "+s+"%)";var t,e,s,i},I.prototype.toHsv=function(){return t=d(this.rgba),{h:a(t.h),s:a(t.s),v:a(t.v),a:a(t.a,3)};var t},I.prototype.invert=function(){return T({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},I.prototype.saturate=function(t){return T(y(this.rgba,t=void 0===t?.1:t))},I.prototype.desaturate=function(t){return T(y(this.rgba,-(t=void 0===t?.1:t)))},I.prototype.grayscale=function(){return T(y(this.rgba,-1))},I.prototype.lighten=function(t){return T(v(this.rgba,t=void 0===t?.1:t))},I.prototype.darken=function(t){return T(v(this.rgba,-(t=void 0===t?.1:t)))},I.prototype.rotate=function(t){return void 0===t&&(t=15),this.hue(this.hue()+t)},I.prototype.alpha=function(t){return"number"==typeof t?T({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):a(this.rgba.a,3);var e},I.prototype.hue=function(t){var e=g(this.rgba);return"number"==typeof t?T({h:t,s:e.s,l:e.l,a:e.a}):a(e.h)},I.prototype.isEqual=function(t){return this.toHex()===T(t).toHex()},I),T=function(t){return t instanceof k?t:new k(t)},E=[];function I(t){this.parsed=i(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}[function(l,t){var e,u={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},d={};for(e in u)d[u[e]]=e;var c={};l.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var e,s=d[this.toHex()];if(s)return s;if(null!=t&&t.closest){var i,r=this.toRgb(),a=1/0,n="black";if(!c.length)for(var h in u)c[h]=new l(u[h]).toRgb();for(i in u){o=r,e=c[i];var o=Math.pow(o.r-e.r,2)+Math.pow(o.g-e.g,2)+Math.pow(o.b-e.b,2);o<a&&(a=o,n=i)}return n}},t.string.push([function(t){t=t.toLowerCase(),t="transparent"===t?"#0000":u[t];return t?new l(t).toRgb():null},"name"])}].forEach(function(t){E.indexOf(t)<0&&(t(k,P),E.push(t))});const R=class R{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof R)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set Color#value to null");null!==this._value&&this._isSourceEqual(this._value,t)||(this._normalize(t),this._value=this._cloneSource(t))}}get value(){return this._value}_cloneSource(t){return"string"==typeof t||"number"==typeof t||t instanceof Number||null===t?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):"object"==typeof t&&null!==t?{...t}:t}_isSourceEqual(e,s){var t,i=typeof e;return i==typeof s&&("number"==i||"string"==i||e instanceof Number?e===s:Array.isArray(e)&&Array.isArray(s)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)?e.length===s.length&&e.every((t,e)=>t===s[e]):null!==e&&null!==s?(i=Object.keys(e),t=Object.keys(s),i.length===t.length&&i.every(t=>e[t]===s[t])):e===s)}toRgba(){var[t,e,s,i]=this._components;return{r:t,g:e,b:s,a:i}}toRgb(){var[t,e,s]=this._components;return{r:t,g:e,b:s}}toRgbaString(){var[t,e,s]=this.toUint8RgbArray();return`rgba(${t},${e},${s},${this.alpha})`}toUint8RgbArray(t){var[e,s,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),(t=t||this._arrayRgb)[0]=Math.round(255*e),t[1]=Math.round(255*s),t[2]=Math.round(255*i),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t=t||this._arrayRgba;var[e,s,i,r]=this._components;return t[0]=e,t[1]=s,t[2]=i,t[3]=r,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb;var[e,s,i]=this._components;return t[0]=e,t[1]=s,t[2]=i,t}toNumber(){return this._int}toBgrNumber(){var[t,e,s]=this.toUint8RgbArray();return(s<<16)+(e<<8)+t}toLittleEndianNumber(){var t=this._int;return(t>>16)+(65280&t)+((255&t)<<16)}multiply(t){var[t,e,s,i]=R._temp.setValue(t)._components;return this._components[0]*=t,this._components[1]*=e,this._components[2]*=s,this._components[3]*=i,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(1===t)return(255<<24)+this._int;if(0===t)return e?0:this._int;let s=this._int>>16&255,i=this._int>>8&255,r=255&this._int;return e&&(s=s*t+.5|0,i=i*t+.5|0,r=r*t+.5|0),(255*t<<24)+(s<<16)+(i<<8)+r}toHex(){var t=this._int.toString(16);return"#"+("000000".substring(0,6-t.length)+t)}toHexa(){var t=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,s,i,r;var a;if(("number"==typeof t||t instanceof Number)&&0<=t&&t<=16777215?(e=(t>>16&255)/255,s=(t>>8&255)/255,i=(255&t)/255,r=1):(Array.isArray(t)||t instanceof Float32Array)&&3<=t.length&&t.length<=4?(t=this._clamp(t),[e,s,i,r=1]=t):(t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&3<=t.length&&t.length<=4?(t=this._clamp(t,0,255),[e,s,i,r=255]=t,e/=255,s/=255,i/=255,r/=255):"string"!=typeof t&&"object"!=typeof t||("string"==typeof t&&(a=R.HEX_PATTERN.exec(t))&&(t="#"+a[2]),(a=T(t)).isValid()&&({r:e,g:s,b:i,a:r}=a.rgba,e/=255,s/=255,i/=255)),void 0===e)throw new Error("Unable to convert color "+t);this._components[0]=e,this._components[1]=s,this._components[2]=i,this._components[3]=r,this._refreshInt()}_refreshInt(){this._clamp(this._components);var[t,e,s]=this._components;this._int=(255*t<<16)+(255*e<<8)+(255*s|0)}_clamp(s,i=0,r=1){return"number"==typeof s?Math.min(Math.max(s,i),r):(s.forEach((t,e)=>{s[e]=Math.min(Math.max(t,i),r)}),s)}static isColorLike(t){return"number"==typeof t||"string"==typeof t||t instanceof Number||t instanceof R||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||void 0!==t.r&&void 0!==t.g&&void 0!==t.b||void 0!==t.r&&void 0!==t.g&&void 0!==t.b&&void 0!==t.a||void 0!==t.h&&void 0!==t.s&&void 0!==t.l||void 0!==t.h&&void 0!==t.s&&void 0!==t.l&&void 0!==t.a||void 0!==t.h&&void 0!==t.s&&void 0!==t.v||void 0!==t.h&&void 0!==t.s&&void 0!==t.v&&void 0!==t.a}};R.shared=new R,R._temp=new R,R.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let B=R},1761:(t,e,s)=>{"use strict";s.d(e,{e:()=>r});let i={createCanvas:(t,e)=>{var s=document.createElement("canvas");return s.width=t,s.height=e,s},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>{return(new DOMParser).parseFromString(t,"text/xml")}};const r={get(){return i},set(t){i=t}}},8507:(t,e,s)=>{"use strict";s.d(e,{Ag:()=>i,XO:()=>n});var i=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t))(i||{});const r=t=>{if("function"==typeof t||"object"==typeof t&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={..."object"!=typeof t.extension?{type:t.extension}:t.extension,ref:t}}if("object"!=typeof t)throw new Error("Invalid extension type");return"string"==typeof(t={...t}).type&&(t.type=[t.type]),t},a=(t,e)=>r(t).priority??e,n={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(r).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...t){return t.map(r).forEach(i=>{i.type.forEach(t=>{var e=this._addHandlers,s=this._queue;e[t]?e[t]?.(i):(s[t]=s[t]||[],s[t]?.push(i))})}),this},handle(t,e,s){var i=this._addHandlers,r=this._removeHandlers;if(i[t]||r[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,r[t]=s;i=this._queue;return i[t]&&(i[t]?.forEach(t=>e(t)),delete i[t]),this},handleByMap(t,e){return this.handle(t,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByNamedList(t,s,i=-1){return this.handle(t,e=>{0<=s.findIndex(t=>t.name===e.name)||(s.push({name:e.name,value:e.ref}),s.sort((t,e)=>a(e.value,i)-a(t.value,i)))},e=>{var t=s.findIndex(t=>t.name===e.name);-1!==t&&s.splice(t,1)})},handleByList(t,e,s=-1){return this.handle(t,t=>{e.includes(t.ref)||(e.push(t.ref),e.sort((t,e)=>a(e,s)-a(t,s)))},t=>{t=e.indexOf(t.ref);-1!==t&&e.splice(t,1)})}}},9049:(t,e,s)=>{"use strict";s.d(e,{a:()=>i});class i{constructor(t){this.pipe="filter",this.priority=1,this.filters=t?.filters,this.filterArea=t?.filterArea}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}},503:(F,t,o)=>{"use strict";o.d(t,{lgM:()=>s,sP:()=>O,kxk:()=>yt.k});var i=o(8507),t={extension:{type:i.Ag.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Promise.all([o.e(188),o.e(180),o.e(852)]).then(o.bind(o,9852))}},D={extension:{type:i.Ag.Environment,name:"webworker",priority:0},test:()=>"undefined"!=typeof self&&void 0!==self.WorkerGlobalScope,load:async()=>{await Promise.all([o.e(188),o.e(180),o.e(162)]).then(o.bind(o,2162))}};o(8480),o(9010);const l=[];i.XO.handleByNamedList(i.Ag.Environment,l);var g=o(1761),u=o(2855);let d;let c;const p=["webgl","webgpu","canvas"];async function G(e){let s=[];e.preference?(s.push(e.preference),p.forEach(t=>{t!==e.preference&&s.push(t)})):s=p.slice();let i,r=(await async function(t){if(t)for(let t=0;t<l.length;t++){var e=l[t];if(e.value.test())return!await e.value.load()}}(e.manageImports??!0),{});for(let t=0;t<s.length;t++){var a=s[t];if("webgpu"===a&&await async function(t={}){return c=void 0===c?await(async()=>{if(!g.e.get().getNavigator().gpu)return!1;try{const g=await navigator.gpu.requestAdapter(t);return await g.requestDevice(),!0}catch(t){return!1}})():c}()){var n=(await Promise.all([o.e(188),o.e(341),o.e(751)]).then(o.bind(o,4751)))["WebGPURenderer"];i=n,r={...e,...e.webgpu};break}if("webgl"===a&&(h=e.failIfMajorPerformanceCaveat??u.k.defaultOptions.failIfMajorPerformanceCaveat,d=void 0===d?(()=>{var e={stencil:!0,failIfMajorPerformanceCaveat:h??u.k.defaultOptions.failIfMajorPerformanceCaveat};try{if(!g.e.get().getWebGLRenderingContext())return!1;let t=g.e.get().createCanvas().getContext("webgl",e);var s,i=!!t?.getContextAttributes()?.stencil;return t&&(s=t.getExtension("WEBGL_lose_context"))&&s.loseContext(),t=null,i}catch(t){return!1}})():d)){n=(await Promise.all([o.e(188),o.e(341),o.e(151)]).then(o.bind(o,3151)))["WebGLRenderer"];i=n,r={...e,...e.webgl};break}if("canvas"===a)throw r={...e},new Error("CanvasRenderer is not yet implemented")}var h,t;if(delete r.webgpu,delete r.webgl,i)return await(t=new i).init(r),t;throw new Error("No available renderer for the current environment")}var U=o(4263),e=o(4670);const r=class r{constructor(...t){this.stage=new U.mc,void 0!==t[0]&&(0,e.t)(e.l,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await G(e),r._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return(0,e.t)(e.l,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){var s=r._plugins.slice(0);s.reverse(),s.forEach(t=>{t.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};r._plugins=[];let s=r;i.XO.handleByList(i.Ag.Application,s._plugins);var f=o(268);class Y{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;var e=[],s=Math.min(this._assetList.length,this._maxConcurrent);for(let t=0;t<s;t++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t)&&!this._isLoading&&this._next()}}var m=o(1979),a=o(4492),z={extension:i.Ag.CacheParser,test:t=>Array.isArray(t)&&t.every(t=>t instanceof a.g),getCacheableAssets:(t,e)=>{const i={};return t.forEach(s=>{e.forEach((t,e)=>{i[s+(0===e?"":e+1)]=t})}),i}};async function n(s){if("Image"in globalThis)return new Promise(t=>{var e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=s});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{var t=await(await fetch(s)).blob();await createImageBitmap(t)}catch(t){return!1}return!0}return!1}var X={extension:{type:i.Ag.DetectionParser,priority:1},test:async()=>n("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(t=>"avif"!==t)};const h=["png","jpg","jpeg"];var N={extension:{type:i.Ag.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...h],remove:async t=>t.filter(t=>!h.includes(t))};const H="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function y(t){return!H&&""!==document.createElement("video").canPlayType(t)}var V={extension:{type:i.Ag.DetectionParser,priority:0},test:async()=>y("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(t=>"mp4"!==t&&"m4v"!==t)},j={extension:{type:i.Ag.DetectionParser,priority:0},test:async()=>y("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(t=>"ogv"!==t)},W={extension:{type:i.Ag.DetectionParser,priority:0},test:async()=>y("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(t=>"webm"!==t)},q={extension:{type:i.Ag.DetectionParser,priority:0},test:async()=>n("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(t=>"webp"!==t)},_=o(2927),v=o(2406),x=o(2217);class ${constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,s)=>(this._parsersValidated=!1,t[e]=s,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(a,n){const h={promise:null,parser:null};return h.promise=(async()=>{let e=null,s=null;if(!n.loadParser||(s=this._parserHash[n.loadParser])||(0,f.R)(`[Assets] specified load parser "${n.loadParser}" not found while loading `+a),!s){for(let t=0;t<this.parsers.length;t++){var i=this.parsers[t];if(i.load&&i.test?.(a,n,this)){s=i;break}}if(!s)return(0,f.R)(`[Assets] ${a} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}e=await s.load(a,n,this),h.parser=s;for(let t=0;t<this.parsers.length;t++){var r=this.parsers[t];r.parse&&r.parse&&await r.testParse?.(e,n,this)&&(e=await r.parse(e,n,this)||e,h.parser=r)}return e})(),h}async load(t,i){this._parsersValidated||this._validateParsers();let r=0;const a={};var e=(0,x.a)(t),t=(0,v.z)(t,t=>({alias:[t],src:t}));const n=t.length;var s=t.map(async e=>{var s=_.A.toAbsolute(e.src);if(!a[e.src])try{this.promiseCache[s]||(this.promiseCache[s]=this._getLoadPromiseAndParser(s,e)),a[e.src]=await this.promiseCache[s].promise,i&&i(++r/n)}catch(t){throw delete this.promiseCache[s],delete a[e.src],new Error(`[Loader.load] Failed to load ${s}.
`+t)}});return await Promise.all(s),e?a[t[0].src]:a}async unload(t){t=(0,v.z)(t,t=>({alias:[t],src:t})).map(async t=>{var e,s=_.A.toAbsolute(t.src),i=this.promiseCache[s];i&&(e=await i.promise,delete this.promiseCache[s],await i.parser?.unload?.(e,t,this))});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(e.name?t[e.name]&&(0,f.R)(`[Assets] loadParser name conflict "${e.name}"`):(0,f.R)("[Assets] loadParser should have a name"),{...t,[e.name]:e}),{})}}function b(t,e){if(Array.isArray(e)){for(const s of e)if(t.startsWith("data:"+s))return!0;return!1}return t.startsWith("data:"+e)}function A(t,e){t=t.split("?")[0],t=_.A.extname(t).toLowerCase();return Array.isArray(e)?e.includes(t):t===e}var w=o(4589);var Z={extension:{type:i.Ag.LoadParser,priority:w.T.Low},name:"loadJson",test(t){return b(t,"application/json")||A(t,".json")},async load(t){return await(await g.e.get().fetch(t)).json()}};var Q={name:"loadTxt",extension:{type:i.Ag.LoadParser,priority:w.T.Low},test(t){return b(t,"text/plain")||A(t,".txt")},async load(t){return await(await g.e.get().fetch(t)).text()}};const K=["normal","bold","100","200","300","400","500","600","700","800","900"],J=[".ttf",".otf",".woff",".woff2"],tt=["font/ttf","font/otf","font/woff","font/woff2"],et=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;const st=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;var it={extension:{type:i.Ag.LoadParser,priority:w.T.Low},name:"loadWebFont",test(t){return b(t,tt)||A(t,J)},async load(e,t){var s=g.e.get().getFontFaceSet();if(s){var i=[],r=t.data?.family??function(t){var e=_.A.extname(t);let s=0<(t=_.A.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1))).length;for(const r of t)if(!r.match(et)){s=!1;break}let i=t.join(" ");return i=s?i:`"${i.replace(/[\\"]/g,"\\$&")}"`}(e),a=t.data?.weights?.filter(t=>K.includes(t))??["normal"],n=t.data??{};for(let t=0;t<a.length;t++){var h=a[t],o=new FontFace(r,`url(${o=e,st.test(o)?o:encodeURI(o)})`,{...n,weight:h});await o.load(),s.add(o),i.push(o)}return m.l.set(r+"-and-url",{url:e,fontFaces:i}),1===i.length?i[0]:i}return(0,f.R)("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(t=>{m.l.remove(t.family),g.e.get().getFontFaceSet().delete(t)})}},M=o(8293),rt=o(4835),C=o(1173);function P(t,e=1){t=C.x.RETINA_PREFIX?.exec(t);return t?parseFloat(t[1]):e}function S(t,e,s){t.label=s,t._sourceOrigin=s;var i=new a.g({source:t,label:s});const r=()=>{delete e.promiseCache[s],m.l.has(s)&&m.l.remove(s)};return i.source.once("destroy",()=>{e.promiseCache[s]&&((0,f.R)("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),r())}),i.once("destroy",()=>{t.destroyed||((0,f.R)("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),r())}),i}var at={extension:{type:i.Ag.LoadParser,priority:w.T.Low},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return b(t,"image/svg+xml")||A(t,".svg")},async load(t,e,s){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?async function(t){var t=await g.e.get().fetch(t),t=await t.text(),e=new rt.T;return e.svg(t),e}(t):async function(t,e,s,i){const r=await g.e.get().fetch(t),a=await r.blob(),n=URL.createObjectURL(a),h=new Image,o=(h.src=n,h.crossOrigin=i,await h.decode(),URL.revokeObjectURL(n),document.createElement("canvas")),l=o.getContext("2d"),u=e.data?.resolution||P(t),d=e.data?.width??h.width,c=e.data?.height??h.height,{parseAsGraphicsContext:p,...f}=(o.width=d*u,o.height=c*u,l.drawImage(h,0,0,d*u,c*u),e.data),m=new M.b({resource:o,alphaMode:"premultiply-alpha-on-upload",resolution:u,...f});return S(m,s,t)}(t,e,s,this.config.crossOrigin)},unload(t){t.destroy(!0)}};let k=null;class T{constructor(){k=k||URL.createObjectURL(new Blob(['(function () {\n    \'use strict\';\n\n    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";\n    async function checkImageBitmap() {\n      try {\n        if (typeof createImageBitmap !== "function")\n          return false;\n        const response = await fetch(WHITE_PNG);\n        const imageBlob = await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n        return imageBitmap.width === 1 && imageBitmap.height === 1;\n      } catch (e) {\n        return false;\n      }\n    }\n    void checkImageBitmap().then((result) => {\n      self.postMessage(result);\n    });\n\n})();\n'],{type:"application/javascript"})),this.worker=new Worker(k)}}T.revokeObjectURL=function(){k&&(URL.revokeObjectURL(k),k=null)};let E=null;class I{constructor(){E=E||URL.createObjectURL(new Blob(["(function () {\n    'use strict';\n\n    async function loadImageBitmap(url) {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`[WorkerManager.loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n      }\n      const imageBlob = await response.blob();\n      const imageBitmap = await createImageBitmap(imageBlob);\n      return imageBitmap;\n    }\n    self.onmessage = async (event) => {\n      try {\n        const imageBitmap = await loadImageBitmap(event.data.data[0]);\n        self.postMessage({\n          data: imageBitmap,\n          uuid: event.data.uuid,\n          id: event.data.id\n        }, [imageBitmap]);\n      } catch (e) {\n        self.postMessage({\n          error: e,\n          uuid: event.data.uuid,\n          id: event.data.id\n        });\n      }\n    };\n\n})();\n"],{type:"application/javascript"})),this.worker=new Worker(E)}}I.revokeObjectURL=function(){E&&(URL.revokeObjectURL(E),E=null)};let R=0,B;const nt=new class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return void 0===this._isImageBitmapSupported&&(this._isImageBitmapSupported=new Promise(e=>{const s=(new T)["worker"];s.addEventListener("message",t=>{s.terminate(),T.revokeObjectURL(),e(t.data)})})),this._isImageBitmapSupported}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){void 0===B&&(B=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<B&&(this._createdWorkers++,(t=(new I).worker).addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){void 0!==t.error?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(s,i){await this._initWorkers();var t=new Promise((t,e)=>{this._queue.push({id:s,arguments:i,resolve:t,reject:e})});return this._next(),t}_next(){var t,e,s;this._queue.length&&(t=this._getWorker())&&(s=(e=this._queue.pop()).id,this._resolveHash[R]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:R++,id:s}))}},ht=[".jpeg",".jpg",".png",".webp",".avif"],ot=["image/jpeg","image/png","image/webp","image/avif"];var w={name:"loadTextures",extension:{type:i.Ag.LoadParser,priority:w.T.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return b(t,ot)||A(t,ht)},async load(e,t,s){let i=null;return i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await nt.isImageBitmapSupported()?await nt.loadImageBitmap(e):await async function(t){var e,s=await g.e.get().fetch(t);if(s.ok)return e=await s.blob(),await createImageBitmap(e);throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${s.status} `+s.statusText)}(e):await new Promise(t=>{(i=new Image).crossOrigin=this.config.crossOrigin,i.src=e,i.complete?t(i):i.onload=()=>{t(i)}}),S(new M.b({resource:i,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||P(e),...t.data}),s,e)},unload(t){t.destroy(!0)}},L=o(6139),lt=o(6858);const ut=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],dt=ut.map(t=>"video/"+t.substring(1));function ct(t,e,s){void 0!==s||e.startsWith("data:")?!1!==s&&(t.crossOrigin="string"==typeof s?s:"anonymous"):t.crossOrigin=function(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;t=new URL(t,document.baseURI);return t.hostname===e.hostname&&t.port===e.port&&t.protocol===e.protocol?"":"anonymous"}(e)}var pt={name:"loadVideo",extension:{type:i.Ag.LoadParser},config:null,test(t){var e=b(t,dt),t=A(t,ut);return e||t},async load(i,r,n){const h={...L.$.defaultOptions,resolution:r.data?.resolution||P(i),alphaMode:r.data?.alphaMode||await(0,lt.C)(),...r.data},o=document.createElement("video"),s={preload:!1!==h.autoLoad?"auto":void 0,"webkit-playsinline":!1!==h.playsinline?"":void 0,playsinline:!1!==h.playsinline?"":void 0,muted:!0===h.muted?"":void 0,loop:!0===h.loop?"":void 0,autoplay:!1!==h.autoPlay?"":void 0},t=(Object.keys(s).forEach(t=>{var e=s[t];void 0!==e&&o.setAttribute(t,e)}),!0===h.muted&&(o.muted=!0),ct(o,i,h.crossorigin),document.createElement("source"));let e;var a;return i.startsWith("data:")?e=i.slice(5,i.indexOf(";")):i.startsWith("blob:")||(a=i.split("?")[0].slice(i.lastIndexOf(".")+1).toLowerCase(),e=L.$.MIME_TYPES[a]||"video/"+a),t.src=i,e&&(t.type=e),new Promise(e=>{const s=async()=>{var a,t=new L.$({...h,resource:o});o.removeEventListener("canplay",s),r.data.preload&&(a=o,await new Promise((t,e)=>{function s(){r(),t()}function i(t){r(),e(t)}function r(){a.removeEventListener("canplaythrough",s),a.removeEventListener("error",i)}a.addEventListener("canplaythrough",s),a.addEventListener("error",i),a.load()})),e(S(t,n,i))};o.addEventListener("canplay",s),o.appendChild(t)})},unload(t){t.destroy(!0)}},ft={extension:i.Ag.ResolveParser,test:w.test,parse:t=>({resolution:parseFloat(C.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},mt={extension:i.Ag.ResolveParser,test:t=>C.x.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:ft.parse};const O=new class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new C.x,this.loader=new $,this.cache=m.l,this._backgroundLoader=new Y(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized)(0,f.R)("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");else{if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let t=e.manifest;"string"==typeof t&&(t=await this.load(t)),this.resolver.addManifest(t)}var t=e.texturePreference?.resolution??1,t="number"==typeof t?[t]:t,s=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:t}}),e.preferences&&this.setPreferences(e.preferences)}}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();var s=(0,x.a)(t),t=(0,v.z)(t).map(t=>{var e;return"string"!=typeof t?((e=this.resolver.getAlias(t)).some(t=>!this.resolver.hasKey(t))&&this.add(t),Array.isArray(e)?e[0]:e):(this.resolver.hasKey(t)||this.add({alias:t,src:t}),t)}),i=this.resolver.resolve(t),i=await this._mapLoadToResolve(i,e);return s?i[t[0]]:i}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let s=!1;"string"==typeof t&&(s=!0,t=[t]);const i=this.resolver.resolveBundle(t),r={};var a=Object.keys(i);let n=0,h=0;const o=()=>{e?.(++n/h)};a=a.map(e=>{var t=i[e];return h+=Object.keys(t).length,this._mapLoadToResolve(t,o).then(t=>{r[e]=t})});return await Promise.all(a),s?r[t[0]]:r}async backgroundLoad(t){this._initialized||await this.init();t=this.resolver.resolve(t="string"==typeof t?[t]:t);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(t){this._initialized||await this.init();t=this.resolver.resolveBundle(t="string"==typeof t?[t]:t);Object.values(t).forEach(t=>{this._backgroundLoader.add(Object.values(t))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if("string"==typeof e)return m.l.get(e);var s={};for(let t=0;t<e.length;t++)s[t]=m.l.get(e[t]);return s}async _mapLoadToResolve(t,e){t=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const i=await this.loader.load(t,e),r=(this._backgroundLoader.active=!0,{});return t.forEach(t=>{const e=i[t.src];var s=[t.src];t.alias&&s.push(...t.alias),s.forEach(t=>{r[t]=e}),m.l.set(s,e)}),r}async unload(t){this._initialized||await this.init();t=(0,v.z)(t).map(t=>"string"!=typeof t?t.src:t),t=this.resolver.resolve(t);await this._unloadFromResolved(t)}async unloadBundle(t){this._initialized||await this.init(),t=(0,v.z)(t);const e=this.resolver.resolveBundle(t);t=Object.keys(e).map(t=>this._unloadFromResolved(e[t]));await Promise.all(t)}async _unloadFromResolved(t){t=Object.values(t);t.forEach(t=>{m.l.remove(t.src)}),await this.loader.unload(t)}async _detectFormats(t){let s=[];t.preferredFormats&&(s=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const e of t.detections)t.skipDetections||await e.test()?s=await e.add(s):t.skipDetections||(s=await e.remove(s));return s=s.filter((t,e)=>s.indexOf(t)===e)}get detections(){return this._detections}setPreferences(s){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(t=>t in s).forEach(t=>{e.config[t]=s[t]})})}},gt=(i.XO.handleByList(i.Ag.LoadParser,O.loader.parsers).handleByList(i.Ag.ResolveParser,O.resolver.parsers).handleByList(i.Ag.CacheParser,O.cache.parsers).handleByList(i.Ag.DetectionParser,O.detections),i.XO.add(z,N,X,q,V,j,W,Z,Q,it,at,w,pt,ft,mt),{loader:i.Ag.LoadParser,resolver:i.Ag.ResolveParser,cache:i.Ag.CacheParser,detection:i.Ag.DetectionParser});i.XO.handle(i.Ag.Asset,t=>{const s=t.ref;Object.entries(gt).filter(([t])=>!!s[t]).forEach(([t,e])=>i.XO.add(Object.assign(s[t],{extension:s[t].extension??e})))},t=>{const e=t.ref;Object.keys(gt).filter(t=>!!e[t]).forEach(t=>i.XO.remove(e[t]))});o(6557);var yt=o(6844);o(4486),o(6570);i.XO.add(t,D)},9313:(t,e,s)=>{"use strict";s.d(e,{u:()=>i});var l=s(1652),u=s(5101);class i{constructor(t=1,e=0,s=0,i=1,r=0,a=0){this.array=null,this.a=t,this.b=e,this.c=s,this.d=i,this.tx=r,this.ty=a}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,s,i,r,a){return this.a=t,this.b=e,this.c=s,this.d=i,this.tx=r,this.ty=a,this}toArray(t,e){this.array||(this.array=new Float32Array(9));e=e||this.array;return t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e}apply(t,e){e=e||new u.b;var s=t.x,t=t.y;return e.x=this.a*s+this.c*t+this.tx,e.y=this.b*s+this.d*t+this.ty,e}applyInverse(t,e){e=e||new u.b;var s=this.a,i=this.b,r=this.c,a=this.d,n=this.tx,h=this.ty,o=1/(s*a+r*-i),l=t.x,t=t.y;return e.x=a*o*l+-r*o*t+(h*r-n*a)*o,e.y=s*o*t+-i*o*l+(-h*s+n*i)*o,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){var e=Math.cos(t),t=Math.sin(t),s=this.a,i=this.c,r=this.tx;return this.a=s*e-this.b*t,this.b=s*t+this.b*e,this.c=i*e-this.d*t,this.d=i*t+this.d*e,this.tx=r*e-this.ty*t,this.ty=r*t+this.ty*e,this}append(t){var e=this.a,s=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*s+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*s+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*s+t.ty*r+this.ty,this}appendFrom(t,e){var s=t.a,i=t.b,r=t.c,a=t.d,n=t.tx,t=t.ty,h=e.a,o=e.b,l=e.c,u=e.d;return this.a=s*h+i*l,this.b=s*o+i*u,this.c=r*h+a*l,this.d=r*o+a*u,this.tx=n*h+t*l+e.tx,this.ty=n*o+t*u+e.ty,this}setTransform(t,e,s,i,r,a,n,h,o){return this.a=Math.cos(n+o)*r,this.b=Math.sin(n+o)*r,this.c=-Math.sin(n-h)*a,this.d=Math.cos(n-h)*a,this.tx=t-(s*this.a+i*this.c),this.ty=e-(s*this.b+i*this.d),this}prepend(t){var e,s,i=this.tx;return 1===t.a&&0===t.b&&0===t.c&&1===t.d||(e=this.a,s=this.c,this.a=e*t.a+this.b*t.c,this.b=e*t.b+this.b*t.d,this.c=s*t.a+this.d*t.c,this.d=s*t.b+this.d*t.d),this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){var e=this.a,s=this.b,i=this.c,r=this.d,a=t.pivot,n=-Math.atan2(-i,r),h=Math.atan2(s,e),o=Math.abs(n+h);return o<1e-5||Math.abs(l.TO-o)<1e-5?(t.rotation=h,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=n,t.skew.y=h),t.scale.x=Math.sqrt(e*e+s*s),t.scale.y=Math.sqrt(i*i+r*r),t.position.x=this.tx+(a.x*e+a.y*i),t.position.y=this.ty+(a.x*s+a.y*r),t}invert(){var t=this.a,e=this.b,s=this.c,i=this.d,r=this.tx,a=t*i-e*s;return this.a=i/a,this.b=-e/a,this.c=-s/a,this.d=t/a,this.tx=(s*this.ty-i*r)/a,this.ty=-(t*this.ty-e*r)/a,this}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.tx&&0===this.ty}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return a.identity()}static get shared(){return r.identity()}}const r=new i,a=new i},1652:(t,e,s)=>{"use strict";s.d(e,{TO:()=>i,Td:()=>a,bO:()=>r});const i=2*Math.PI,r=180/Math.PI,a=Math.PI/180},9939:(t,e,s)=>{"use strict";s.d(e,{U5:()=>function(t){return t+=0===t?1:0,--t,1+(t=(t=(t=(t=(t|=t>>>1)|t>>>2)|t>>>4)|t>>>8)|t>>>16)},f3:()=>function(t){return!(t&t-1||!t)}})},2812:(t,e,s)=>{"use strict";s.d(e,{o:()=>i});class i{constructor(t,e,s){this._x=e||0,this._y=s||0,this._observer=t}clone(t){return new i(t??this._observer,this._x,this._y)}set(t=0,e=t){return this._x===t&&this._y===e||(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}},5101:(t,e,s)=>{"use strict";s.d(e,{b:()=>i});class i{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new i(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return r.x=0,r.y=0,r}}const r=new i},9252:(t,e,s)=>{"use strict";s.d(e,{M:()=>i});e=s(5101);const m=[new e.b,new e.b,new e.b,new e.b];class i{constructor(t=0,e=0,s=0,i=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(s),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new i(0,0,0,0)}clone(){return new i(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,s){var i,r,{width:a,height:n}=this;return!(a<=0||n<=0)&&(i=this.x,r=this.y,i-s/2<=t)&&t<=i+a+s/2&&r-s/2<=e&&e<=r+n+s/2&&!(i+s/2<t&&t<i+a-s/2&&r+s/2<e&&e<r+n-s/2)}intersects(t,e){var s,i,r,a,n,h,o,l,u,d,c,p,f;return e?(s=this.left,i=this.right,r=this.top,a=this.bottom,!(i<=s||a<=r||(n=m[0].set(t.left,t.top),f=m[1].set(t.left,t.bottom),h=m[2].set(t.right,t.top),o=m[3].set(t.right,t.bottom),h.x<=n.x)||f.y<=n.y||0===(l=Math.sign(e.a*e.d-e.b*e.c))||(e.apply(n,n),e.apply(f,f),e.apply(h,h),e.apply(o,o),Math.max(n.x,f.x,h.x,o.x)<=s)||Math.min(n.x,f.x,h.x,o.x)>=i||Math.max(n.y,f.y,h.y,o.y)<=r||Math.min(n.y,f.y,h.y,o.y)>=a||(u=(e=l*(f.y-n.y))*s+(f=l*(n.x-f.x))*r,d=e*i+f*r,c=e*s+f*a,p=e*i+f*a,Math.max(u,d,c,p)<=e*n.x+f*n.y)||Math.min(u,d,c,p)>=e*o.x+f*o.y||(c=(u=l*(n.y-h.y))*s+(d=l*(h.x-n.x))*r,p=u*i+d*r,e=u*s+d*a,f=u*i+d*a,Math.max(c,p,e,f)<=u*n.x+d*n.y)||Math.min(c,p,e,f)>=u*o.x+d*o.y)):(l=(this.x<t.x?t:this).x,!((this.right>t.right?t:this).right<=l)&&(this.y<t.y?t:this).y<(this.bottom>t.bottom?t:this).bottom)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this}fit(t){var e=Math.max(this.x,t.x),s=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),t=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(s-e,0),this.y=i,this.height=Math.max(t-i,0),this}ceil(t=1,e=.001){var s=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=s-this.x,this.height=i-this.y,this}enlarge(t){var e=Math.min(this.x,t.x),s=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),t=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=s-e,this.y=i,this.height=t-i,this}getBounds(t){return(t=t||new i).copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}},8634:(t,e,s)=>{"use strict";s.d(e,{J:()=>h});var i=s(949),r=s(1132),e=s(6011);const a=new Float32Array(1),n=new Uint32Array(1);class h extends e.V{constructor(){var t=new i.h({data:a,label:"attribute-batch-buffer",usage:r.S.VERTEX|r.S.COPY_DST,shrinkToFit:!1});super({attributes:{aPosition:{buffer:t,format:"float32x2",stride:24,offset:0,location:1},aUV:{buffer:t,format:"float32x2",stride:24,offset:8,location:3},aColor:{buffer:t,format:"unorm8x4",stride:24,offset:16,location:0},aTextureIdAndRound:{buffer:t,format:"uint16x2",stride:24,offset:20,location:2}},indexBuffer:new i.h({data:n,label:"index-batch-buffer",usage:r.S.INDEX|r.S.COPY_DST,shrinkToFit:!1})})}}},341:(t,e,s)=>{"use strict";s.d(e,{w:()=>function(e,s){let i=0;for(let t=0;t<s;t++)i=31*i+e[t].uid>>>0;return l[i]||function(e,t){var s={};let i=0;for(let t=0;t<o.k;t++){var r=t<e.length?e[t]:h.g.EMPTY.source;s[i++]=r.source,s[i++]=r.style}var a=new n.T(s);return l[t]=a}(e,i)}});var n=s(3513),h=s(4492),o=s(9104);const l={}},1478:(t,e,s)=>{"use strict";s.d(e,{i:()=>o});var i=s(133);class r{constructor(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[t+"View"]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}}}var a=s(6736),n=s(1957);function g(t,e){return"no-premultiply-alpha"===e.alphaMode&&n.Q[t]||t}class y{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){var e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}var _=s(9104);class v{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let x=0;const h=class h{constructor(t={}){this.uid=(0,i.L)("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0;var{vertexSize:t,indexSize:e}=t={...h.defaultOptions,...t};this.attributeBuffer=new r(t*this._vertexSize*4),this.indexBuffer=new Uint16Array(e)}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){(this._elements[this.elementSize++]=t).indexStart=this.indexSize,t.location=this.attributeSize,(t.batcher=this).indexSize+=t.indexSize,this.attributeSize+=t.vertexSize*this._vertexSize}checkAndUpdateTexture(t,e){var s=t.batch.textures.ids[e._source.uid];return!(!s&&0!==s||(t.textureId=s,t.texture=e,0))}updateElement(t){this.dirty=!0,t.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,t.location,t.textureId)}break(n){var h=this._elements;let o=this._textureBatchPool[this._textureBatchPoolIndex++]||new y;if(o.clear(),h[this.elementStart]){var t=h[this.elementStart];let e=g(t.blendMode,t.texture._source);4*this.attributeSize>this.attributeBuffer.size&&this._resizeAttributeBuffer(4*this.attributeSize),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);var l=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,d=this.indexBuffer;let s=this._batchIndexSize,i=this._batchIndexStart,r="startBatch",a=this._batchPool[this._batchPoolIndex++]||new v;for(let t=this.elementStart;t<this.elementSize;++t){var c=h[t],p=(h[t]=null,c.texture),p=p._source,f=g(c.blendMode,p),m=e!==f;p._batchTick!==x||m?(p._batchTick=x,(o.count>=_.k||m)&&(this._finishBatch(a,i,s-i,o,e,n,r),r="renderBatch",i=s,e=f,(o=this._textureBatchPool[this._textureBatchPoolIndex++]||new y).clear(),a=this._batchPool[this._batchPoolIndex++]||new v,++x),c.textureId=p._textureBindLocation=o.count,o.ids[p.uid]=o.count,o.textures[o.count++]=p,c.batch=a,s+=c.indexSize,c.packAttributes(l,u,c.location,c.textureId),c.packIndex(d,c.indexStart,c.location/this._vertexSize)):(c.textureId=p._textureBindLocation,s+=c.indexSize,c.packAttributes(l,u,c.location,c.textureId),c.packIndex(d,c.indexStart,c.location/this._vertexSize),c.batch=a)}0<o.count&&(this._finishBatch(a,i,s-i,o,e,n,r),i=s,++x),this.elementStart=this.elementSize,this._batchIndexStart=i,this._batchIndexSize=s}}_finishBatch(t,e,s,i,r,a,n){t.gpuBindGroup=null,t.action=n,t.batcher=this,t.textures=i,t.blendMode=r,t.start=e,t.size=s,++x,a.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){4*t<=this.attributeBuffer.size||this._resizeAttributeBuffer(4*t)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){t=Math.max(t,2*this.attributeBuffer.size),t=new r(t);(0,a.W)(this.attributeBuffer.rawBinaryData,t.rawBinaryData),this.attributeBuffer=t}_resizeIndexBuffer(t){var e=this.indexBuffer,t=Math.max(t,1.5*e.length),s=new(65535<(t+=t%2)?Uint32Array:Uint16Array)(t);if(s.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let t=0;t<e.length;t++)s[t]=e[t];else(0,a.W)(e.buffer,s.buffer);this.indexBuffer=s}destroy(){for(let t=0;t<this.batches.length;t++)this.batches[t].destroy();this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};h.defaultOptions={vertexSize:4,indexSize:6};let o=h},9104:(t,e,s)=>{"use strict";s.d(e,{k:()=>i});const i=16},8480:(t,e,s)=>{"use strict";var i=s(8507),r=s(6844),a=s(9636),n=s(9443);const h=new a.c;function o(t,e,s){var i=h;t.measurable=!0,(0,n.fB)(t,s,i),e.addBoundsMask(i),t.measurable=!1}var l=s(7269),u=s(2208),d=s(268);function c(t,e,s){var i=u.o.get(),r=(t.measurable=!0,u.u.get().identity()),s=function t(e,s,i){if(!e)return(0,d.R)("Mask bounds, renderable is not inside the root container"),i;e!==s&&(t(e.parent,s,i),e.updateLocalTransform(),i.append(e.localTransform));return i}(t,s,r);(0,l.n)(t,i,s),t.measurable=!1,e.addBoundsMask(i),u.u.return(r),u.o.return(i)}class p{constructor(t){this.priority=0,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof r.k),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){o(this.mask,t,e)}addLocalBounds(t,e){c(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof r.k}}p.extension=i.Ag.MaskEffect;class f{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return"number"==typeof t}}f.extension=i.Ag.MaskEffect;var m=s(4263);class g{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){o(this.mask,t,e)}addLocalBounds(t,e){c(this.mask,t,e)}containsPoint(t,e){return e(this.mask,t)}destroy(){this.reset()}static test(t){return t instanceof m.mc}}g.extension=i.Ag.MaskEffect;var a=s(2518),y=s(4884),_=s(8293),v=s(6139);s(6557);i.XO.add(p,f,g,v.$,_.b,y.q,a.P)},1257:(t,e,s)=>{"use strict";s.d(e,{u:()=>i});var i=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(i||{})},3513:(t,e,s)=>{"use strict";s.d(e,{T:()=>i});class i{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){var s=t[i];this.setResource(s,e++)}this._updateKey()}_updateKey(){if(this._dirty){this._dirty=!1;var e=[];let t=0;for(const s in this.resources)e[t++]=this.resources[s]._resourceId;this._key=e.join("|")}}setResource(t,e){var s=this.resources[e];t!==s&&(s&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){var e=this.resources;for(const s in e)e[s]._touched=t}destroy(){var t=this.resources;for(const e in t)t[e].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){var e=this.resources;for(const s in e)e[s]===t&&(e[s]=null)}else this._updateKey()}}},949:(t,e,s)=>{"use strict";s.d(e,{h:()=>r});var e=s(4486),n=s(133),i=s(1132);class r extends e.A{constructor(t){let{data:e,size:s}=t;var{usage:t,label:i,shrinkToFit:r}=t,a=(super(),this.uid=(0,n.L)("buffer"),this._resourceType="buffer",this._resourceId=(0,n.L)("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,s=s??e?.byteLength,!!e);this.descriptor={size:s,usage:t,mappedAtCreation:a,label:i},this.shrinkToFit=r??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get static(){return!!(this.descriptor.usage&i.S.STATIC)}set static(t){t?this.descriptor.usage|=i.S.STATIC:this.descriptor.usage&=~i.S.STATIC}setDataWithSize(t,e,s){this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t||(e=this._data,this._data=t,e.length===t.length)||!this.shrinkToFit&&t.byteLength<e.byteLength?s&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=(0,n.L)("resource"),this.emit("change",this))}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}},1132:(t,e,s)=>{"use strict";s.d(e,{S:()=>i});var i=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(i||{})},6736:(t,e,s)=>{"use strict";s.d(e,{W:()=>function(t,e){var s=t.byteLength/8|0,i=new Float64Array(t,0,s),r=new Float64Array(e,0,s),r=(r.set(i),t.byteLength-8*s);0<r&&(i=new Uint8Array(t,8*s,r),new Uint8Array(e,8*s,r).set(i))}})},6011:(t,e,s)=>{"use strict";s.d(e,{V:()=>r});var e=s(4486),n=s(9636),h=s(133),o=s(949),i=s(1132);function l(e,s){if(!(e instanceof o.h)){let t=s?i.S.INDEX:i.S.VERTEX;e instanceof Array&&(t=s?(e=new Uint32Array(e),i.S.INDEX|i.S.COPY_DST):(e=new Float32Array(e),i.S.VERTEX|i.S.COPY_DST)),e=new o.h({data:e,label:s?"index-mesh-buffer":"vertex-mesh-buffer",usage:t})}return e}class r extends e.A{constructor(t){var{attributes:e,indexBuffer:s,topology:i}=t;super(),this.uid=(0,h.L)("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new n.c,this._boundsDirty=!0,this.attributes=e,this.buffers=[],this.instanceCount=t.instanceCount||1;for(const a in e){var r=e[a]=((r=(r=e[a])instanceof o.h||Array.isArray(r)||r.BYTES_PER_ELEMENT?{buffer:r}:r).buffer=l(r.buffer,!1),r);-1===this.buffers.indexOf(r.buffer)&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this))}s&&(this.indexBuffer=l(s,!0),this.buffers.push(this.indexBuffer)),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const e in this.attributes){var t=this.attributes[e];return t.buffer.data.length/(t.stride/4||t.size)}return 0}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;var t=this,a="aPosition",n=this._bounds;if(t=t.getAttribute(a)){var h=t.buffer.data;let e=1/0,s=1/0,i=-1/0,r=-1/0;var a=h.BYTES_PER_ELEMENT,o=(t.offset||0)/a,l=(t.stride||8)/a;for(let t=o;t<h.length;t+=l){var u=h[t],d=h[t+1];u>i&&(i=u),d>r&&(r=d),u<e&&(e=u),d<s&&(s=d)}n.minX=e,n.minY=s,n.maxX=i,n.maxY=r}else n.minX=0,n.minY=0,n.maxX=0,n.maxY=0;return n}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(t=>t.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}},848:(t,e,s)=>{"use strict";s.d(e,{L:()=>r});var i=s(133);class r{constructor(){this.uid=(0,i.L)("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}},1957:(t,e,s)=>{"use strict";s.d(e,{K:()=>r,Q:()=>i});const i={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var r=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",t[t.NONE=4]="NONE",t))(r||{})},2855:(t,e,s)=>{"use strict";s.d(e,{k:()=>d});var i=s(2577),r=s(4263),a=s(4577),n=s(4670),h=s(1257),o=s(7729),e=s(4486);const l=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],u=class u extends e.A{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name;var e=[...l,...t.runners??[]];this._addRunners(...e),this._addSystems(t.systems),this._addPipes(t.renderPipes,t.renderPipeAdaptors),this._unsafeEvalCheck()}async init(e={}){for(const t in this._systemsHash)e={...this._systemsHash[t].constructor.defaultOptions,...e};e={...u.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let t=0;t<this.runners.init.items.length;t++)await this.runners.init.items[t].init(e);this._initOptions=e}render(t,e){let s=t;s instanceof r.mc&&(s={container:s},e)&&((0,n.t)(n.l,"passing a second argument is deprecated, please use render options instead"),s.target=e.renderTexture),s.target||(s.target=this.view.renderTarget),s.target===this.view.renderTarget&&(this._lastObjectRendered=s.container,s.clearColor=this.background.colorRgba),s.clearColor&&(t=Array.isArray(s.clearColor)&&4===s.clearColor.length,s.clearColor=t?s.clearColor:i.Q.shared.setValue(s.clearColor).toArray()),s.transform||(s.container.updateLocalTransform(),s.transform=s.container.localTransform),this.runners.prerender.emit(s),this.runners.renderStart.emit(s),this.runners.render.emit(s),this.runners.renderEnd.emit(s),this.runners.postrender.emit(s)}resize(t,e,s){this.view.resize(t,e,s),this.emit("resize",this.view.screen.width,this.view.screen.height)}clear(t={}){t.target||(t.target=this.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=h.u.ALL);var{clear:t,clearColor:e,target:s}=t;i.Q.shared.setValue(e??this.background.colorRgba),this.renderTarget.clear(s,t,i.Q.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(t=>{this.runners[t]=new o.C(t)})}_addSystems(t){let e;for(e in t){var s=t[e];this._addSystem(s.value,s.name)}}_addSystem(t,e){var s=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=s,this._systemsHash[e]=s;for(const i in this.runners)this.runners[i].add(s);return this}_addPipes(t,e){const i=e.reduce((t,e)=>(t[e.name]=e.value,t),{});t.forEach(t=>{var e=t.value,t=t.name,s=i[t];this.renderPipes[t]=new e(this,s?new s:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!(0,a.f)())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};u.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let d=u},7729:(t,e,s)=>{"use strict";s.d(e,{C:()=>i});class i{constructor(t){this.items=[],this._name=t}emit(s,i,r,a,n,h,o,l){var{name:u,items:d}=this;for(let t=0,e=d.length;t<e;t++)d[t][u](s,i,r,a,n,h,o,l);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){t=this.items.indexOf(t);return-1!==t&&this.items.splice(t,1),this}contains(t){return-1!==this.items.indexOf(t)}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return 0===this.items.length}get name(){return this._name}}},4492:(t,e,s)=>{"use strict";s.d(e,{g:()=>C});var e=s(4486),i=s(9313);const r=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],a=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],n=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],h=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],o=[],l=[],u=Math.sign;for(let e=0;e<16;e++){var d=[];o.push(d);for(let t=0;t<16;t++){var c=u(r[e]*r[t]+n[e]*a[t]),p=u(a[e]*r[t]+h[e]*a[t]),f=u(r[e]*n[t]+n[e]*h[t]),m=u(a[e]*n[t]+h[e]*h[t]);for(let t=0;t<16;t++)if(r[t]===c&&a[t]===p&&n[t]===f&&h[t]===m){d.push(t);break}}}for(let t=0;t<16;t++){var g=new i.u;g.set(r[t],a[t],n[t],h[t],0,0),l.push(g)}const y={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>r[t],uY:t=>a[t],vX:t=>n[t],vY:t=>h[t],inv:t=>8&t?15&t:7&-t,add:(t,e)=>o[t][e],sub:(t,e)=>o[t][y.inv(e)],rotate180:t=>4^t,isVertical:t=>2==(3&t),byDirection:(t,e)=>2*Math.abs(t)<=Math.abs(e)?0<=e?y.S:y.N:2*Math.abs(e)<=Math.abs(t)?0<t?y.E:y.W:0<e?0<t?y.SE:y.SW:0<t?y.NE:y.NW,matrixAppendRotationInv:(t,e,s=0,i=0)=>{e=l[y.inv(e)];e.tx=s,e.ty=i,t.append(e)}};var _=s(9252),v=s(133),x=s(4670),b=()=>{},A=s(2518),w=s(6932),M=s(1196);class C extends e.A{constructor({source:t,label:e,frame:s,orig:i,trim:r,defaultAnchor:a,defaultBorders:n,rotate:h,dynamic:o}={}){super(),this.uid=(0,v.L)("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new _.M,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new w.v,this.noFrame=!s,s?this.frame.copyFrom(s):({width:e,height:t}=this._source,this.frame.width=e,this.frame.height=t),this.orig=i||this.frame,this.trim=r,this.rotate=h??0,this.defaultAnchor=a,this.defaultBorders=n,this.destroyed=!1,this.dynamic=o||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),(this._source=t).on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new M.N(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){var t,e,s,i,{uvs:r,frame:a}=this,{width:n,height:h}=this._source,o=a.x/n,l=a.y/h,n=a.width/n,a=a.height/h,h=this.rotate;h?(s=o+(t=n/2),i=l+(e=a/2),h=y.add(h,y.NW),r.x0=s+t*y.uX(h),r.y0=i+e*y.uY(h),h=y.add(h,2),r.x1=s+t*y.uX(h),r.y1=i+e*y.uY(h),h=y.add(h,2),r.x2=s+t*y.uX(h),r.y2=i+e*y.uY(h),h=y.add(h,2),r.x3=s+t*y.uX(h),r.y3=i+e*y.uY(h)):(r.x0=o,r.y0=l,r.x1=o+n,r.y1=l,r.x2=o+n,r.y2=l+a,r.x3=o,r.y3=l+a)}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return(0,x.t)(x.l,"Texture.baseTexture is now Texture.source"),this._source}}C.EMPTY=new C({label:"EMPTY",source:new w.v({label:"EMPTY"})}),C.EMPTY.destroy=b,C.WHITE=new C({source:new A.P({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"}),C.WHITE.destroy=b},1196:(t,e,s)=>{"use strict";s.d(e,{N:()=>r});var i=s(9313);const a=new i.u;class r{constructor(t,e){this.mapCoord=new i.u,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?t.width<10?0:.5:e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,s){void 0===s&&(s=e);var i=this.mapCoord;for(let t=0;t<e.length;t+=2){var r=e[t],a=e[t+1];s[t]=r*i.a+a*i.c+i.tx,s[t+1]=r*i.b+a*i.d+i.ty}return s}update(){var t=this._texture,e=(this._updateID++,t.uvs),e=(this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0),t.orig),s=t.trim,e=(s&&(a.set(e.width/s.width,0,0,e.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(a)),t.source),s=this.uClampFrame,i=this.clampMargin/e._resolution,r=this.clampOffset;return s[0]=(t.frame.x+i+r)/e.width,s[1]=(t.frame.y+i+r)/e.height,s[2]=(t.frame.x+t.frame.width-i+r)/e.width,s[3]=(t.frame.y+t.frame.height-i+r)/e.height,this.uClampOffset[0]=r/e.pixelWidth,this.uClampOffset[1]=r/e.pixelHeight,this.isSimple=t.frame.width===e.width&&t.frame.height===e.height&&0===t.rotate,!0}}},2518:(t,e,s)=>{"use strict";s.d(e,{P:()=>i});e=s(8507);class i extends s(6932).v{constructor(t){var e=t.resource||new Float32Array(t.width*t.height*4);let s=t.format;s=s||(e instanceof Float32Array?"rgba32float":e instanceof Int32Array||e instanceof Uint32Array?"rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?"rgba16uint":(0 instanceof Int8Array,"bgra8unorm")),super({...t,resource:e,format:s}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}i.extension=e.Ag.TextureSource},4884:(t,e,s)=>{"use strict";s.d(e,{q:()=>r});var i=s(1761),e=s(8507);class r extends s(6932).v{constructor(t){t.resource||(t.resource=i.e.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity)||(t.width/=t.resolution),t.height||(t.height=t.resource.height,t.autoDensity)||(t.height/=t.resolution),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity;var e=t.resource;this.pixelWidth===e.width&&this.pixelWidth===e.height||this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=this.width+"px",this.resource.style.height=this.height+"px"),this.resource.width===this.pixelWidth&&this.resource.height===this.pixelHeight||(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,s=this._resolution){t=super.resize(t,e,s);return t&&this.resizeCanvas(),t}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}}r.extension=e.Ag.TextureSource},8293:(t,e,s)=>{"use strict";s.d(e,{b:()=>a});var i=s(1761),e=s(8507),r=s(268);class a extends s(6932).v{constructor(t){var e;t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement&&((e=i.e.get().createCanvas(t.resource.width,t.resource.height)).getContext("2d").drawImage(t.resource,0,0),t.resource=e,(0,r.R)("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")),super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap}}a.extension=e.Ag.TextureSource},6932:(t,e,s)=>{"use strict";s.d(e,{v:()=>u});var e=s(4486),i=s(9939);var r=s(133),a=s(4670);const n=Object.create(null);const h=class h extends e.A{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...h.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){(0,a.t)(a.l,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),1<this._maxAnisotropy&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){var t,e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-`+this._maxAnisotropy;return this._sharedResourceId=(e=e,void 0===(t=n[e])&&(n[e]=(0,r.L)("resource")),t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};h.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let o=h;const l=class l extends e.A{constructor(t={}){super(),this.options=t,this.uid=(0,r.L)("textureSource"),this._resourceType="textureSource",this._resourceId=(0,r.L)("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...l.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new o(function(t){var e={};for(const s in t)void 0!==t[s]&&(e[s]=t[s]);return e}(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){var t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=(0,r.L)("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){var t=this["resource"];return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){var t=this["resource"];return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,s){s=s||this._resolution,t=t||this.width,e=e||this.height;t=Math.round(t*s),e=Math.round(e*s);return this.width=t/s,this.height=e/s,this._resolution=s,(this.pixelWidth!==t||this.pixelHeight!==e)&&(this._refreshPOT(),this.pixelWidth=t,this.pixelHeight=e,this.emit("resize",this),this._resourceId=(0,r.L)("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&1<this.mipLevelCount&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=(0,i.f3)(this.pixelWidth)&&(0,i.f3)(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};l.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let u=l},6139:(t,e,s)=>{"use strict";s.d(e,{$:()=>n});var e=s(8507),i=s(7309),r=s(6858),s=s(6932);const a=class a extends s.v{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...a.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==t.autoPlay,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==t.autoLoad&&this.load()}updateFrame(){var t;this.destroyed||(this._updateFPS&&(t=i.R.shared.elapsedMS*this.resource.playbackRate,this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)),(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update())}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(!this._load){const s=this.resource,i=this.options;(s.readyState===s.HAVE_ENOUGH_DATA||s.readyState===s.HAVE_FUTURE_DATA)&&s.width&&s.height&&(s.complete=!0),s.addEventListener("play",this._onPlayStart),s.addEventListener("pause",this._onPlayStop),s.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||s.addEventListener("canplay",this._onCanPlay),s.addEventListener("canplaythrough",this._onCanPlayThrough),s.addEventListener("error",this._onError,!0)),this.alphaMode=await(0,r.C)(),this._load=new Promise((t,e)=>{this.isValid?t(this):(this._resolve=t,this._reject=e,void 0!==i.preloadTimeoutMs&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),s.load())})}return this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){var t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return 2<this.resource.readyState}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){var t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();var t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(i.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(i.R.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(i.R.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||globalThis.VideoFrame&&t instanceof VideoFrame}};a.extension=e.Ag.TextureSource,a.defaultOptions={...s.v.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1},a.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let n=a},6557:(t,e,s)=>{"use strict";var r=s(1979),i=s(8507),a=s(6932),n=s(4492);const h=[];function o(t={},e=!1){var s=t&&t.resource;const i=s?t.resource:t;s=s?t:{resource:t};return!e&&r.l.has(i)?r.l.get(i):((t=new n.g({source:function(t={}){var e=t&&t.resource,s=e?t.resource:t,i=e?t:{resource:t};for(let t=0;t<h.length;t++){var r=h[t];if(r.test(s))return new r(i)}throw new Error("Could not find a source type for resource: "+i.resource)}(s)})).on("destroy",()=>{r.l.has(i)&&r.l.remove(i)}),e||r.l.set(i,t),t)}i.XO.handleByList(i.Ag.TextureSource,h),n.g.from=function(t,e=!1){return"string"==typeof t?r.l.get(t):t instanceof a.v?new n.g({source:t}):o(t,e)}},4263:(t,e,s)=>{"use strict";s.d(e,{mc:()=>B,u:()=>I,ig:()=>E,fR:()=>R});var e=s(4486),i=s(2577),a=s(9313),r=s(1652),n=s(2812),h=s(133),o=s(4670),l=s(9903),u={allowChildren:!0,removeChildren(e=0,s){var s=s??this.children.length,t=s-e,i=[];if(0<t&&t<=s){for(let t=s-1;t>=e;t--){var r=this.children[t];r&&(this.renderGroup&&this.renderGroup.removeChild(r),i.push(r),r.parent=null)}(0,l.d)(this.children,e,s);for(let t=0;t<i.length;++t)this.emit("childRemoved",i[t],this,t),i[t].emit("removed",this);return i}if(0==t&&0===this.children.length)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){t=this.getChildAt(t);return this.removeChild(t)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds `+this.children.length);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(t,e){this.allowChildren||(0,o.t)(o.l,"addChildAt: Only Containers will be allowed to add children in v8.0.0");var s=this["children"];if(e<0||e>s.length)throw new Error(t+`addChildAt: The index ${e} supplied is out of bounds `+s.length);if(t.parent){var i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;-1!==i&&t.parent.children.splice(i,1)}return e===s.length?s.push(t):s.splice(e,0,t),t.parent=this,t.didChange=!0,t.didViewUpdate=!1,t._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){var s,i;t!==e&&(s=this.getChildIndex(t),i=this.getChildIndex(e),this.children[s]=e,this.children[i]=t)},removeFromParent(){this.parent?.removeChild(this)}},d=s(9049),c=s(8507),p=s(8218);const f=new class{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(e){this._initialized||this.init();for(let t=0;t<this._tests.length;t++){var s=this._tests[t];if(s.test(e))return p.Z.get(s.maskClass,e)}return e}returnMaskEffect(t){p.Z.return(t)}};c.XO.handleByList(c.Ag.MaskEffect,f._effectClasses);var c={_mask:null,_filters:null,effects:[],addEffect(t){-1===this.effects.indexOf(t)&&(this.effects.push(t),this.effects.sort((t,e)=>t.priority-e.priority),this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},removeEffect(t){t=this.effects.indexOf(t);-1!==t&&(this.effects.splice(t,1),!this.isRenderGroupRoot&&this.renderGroup&&(this.renderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(t){this._mask||(this._mask={mask:null,effect:null}),this._mask.mask!==t&&(this._mask.effect&&(this.removeEffect(this._mask.effect),f.returnMaskEffect(this._mask.effect),this._mask.effect=null),null!=(this._mask.mask=t))&&(t=f.getMaskEffect(t),this._mask.effect=t,this.addEffect(t))},get mask(){return this._mask?.mask},set filters(t){Array.isArray(t)||(t=t&&[t]),this._filters||(this._filters={filters:null,effect:null,filterArea:null});var e=0<t?.length,s=this._filters.effect&&!e||!this._filters.effect&&e;t=Array.isArray(t)?t.slice(0):t,this._filters.filters=Object.freeze(t),s&&(e?(s=p.Z.get(d.a),this._filters.effect=s,this.addEffect(s)):(s=this._filters.effect,this.removeEffect(s),s.filterArea=null,s.filters=null,this._filters.effect=null,p.Z.return(s))),e&&(this._filters.effect.filters=t,this._filters.effect.filterArea=this.filterArea)},get filters(){return this._filters?.filters},set filterArea(t){this._filters||(this._filters={filters:null,effect:null,filterArea:null}),this._filters.filterArea=t},get filterArea(){return this._filters?.filterArea}},m={label:null,get name(){return(0,o.t)(o.l,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){(0,o.t)(o.l,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(e,t=!1){var s=this.children;for(let t=0;t<s.length;t++){var i=s[t];if(i.label===e||e instanceof RegExp&&e.test(i.label))return i}if(t)for(let t=0;t<s.length;t++){var r=s[t].getChildByLabel(e,!0);if(r)return r}return null},getChildrenByLabel(e,t=!1,s=[]){var i=this.children;for(let t=0;t<i.length;t++){var r=i[t];(r.label===e||e instanceof RegExp&&e.test(r.label))&&s.push(r)}if(t)for(let t=0;t<i.length;t++)i[t].getChildrenByLabel(e,!0,s);return s}},g=s(9636),y=s(9443),_=s(7269);const v=new a.u;var x={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){var s=Math.sign(this.scale.x)||1;this.scale.x=0!==e?t/e*s:s},_setHeight(t,e){var s=Math.sign(this.scale.y)||1;this.scale.y=0!==e?t/e*s:s},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new g.c});var t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didChangeId>>12&&(t.didChange=!0,t.data[0]=this._didChangeId>>12),function e(t,s){var i=t.children;for(let t=0;t<i.length;t++){var r=i[t],a=(255&r.uid)<<24|16777215&r._didChangeId;s.data[s.index]!==a&&(s.data[s.index]=a,s.didChange=!0),s.index++,r.children.length&&e(r,s)}s.didChange}(this,t),t.didChange&&(0,_.n)(this,t.localBounds,v),t.localBounds},getBounds(t,e){return(0,y.fB)(this,t,e||new g.c)}},b={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(A))}};function A(t,e){return t._zIndex-e._zIndex}var w=s(5101),M={getGlobalPosition(t=new w.b,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,s=!1){return(s?this.worldTransform:(this.updateLocalTransform(),(s=(0,y.Ek)(this,new a.u)).append(this.localTransform),s)).apply(t,e)},toLocal(t,e,s,i){return e&&(t=e.toGlobal(t,s,i)),(i?this.worldTransform:(this.updateLocalTransform(),(e=(0,y.Ek)(this,new a.u)).append(this.localTransform),e)).applyInverse(t,s)}},C=s(848);class P{constructor(t){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this._children=[],this.worldTransform=new a.u,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new C.L,this._onRenderContainers=[],this.root=t,this.addChild(t)}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),(t.renderGroupParent=this).onChildUpdate(t.root),this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){t.root.didChange&&this._removeChildFromUpdate(t.root);var e=this.renderGroupChildren.indexOf(t);-1<e&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t!==this.root&&(this._children.push(t),t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1),t.renderGroup){if(t.renderGroup.root===t)return void this.addRenderGroupChild(t.renderGroup)}else t.renderGroup=this,t.didChange=!0;!t._onRender||t.isRenderGroupRoot&&t.renderGroup.root!==t||this.addOnRender(t);var e=t.children;t.isRenderGroupRoot||this.onChildUpdate(t);for(let t=0;t<e.length;t++)this.addChild(e[t])}removeChild(t){if(this.structureDidChange=!0,!t._onRender||t.isRenderGroupRoot&&t.renderGroup.root!==t||this.removeOnRender(t),t.renderGroup.root!==t){var e=t.children;for(let t=0;t<e.length;t++)this.removeChild(e[t]);t.didChange&&t.renderGroup._removeChildFromUpdate(t),t.renderGroup=null}else this._removeRenderGroupChild(t.renderGroup);t=this._children.indexOf(t);-1<t&&this._children.splice(t,1)}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];(e=e||(this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]})).list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(t.didViewUpdate=!1,this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t))}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}_removeChildFromUpdate(t){var e=this.childrenToUpdate[t.relativeRenderGroupDepth];e&&(-1<(t=e.list.indexOf(t))&&e.list.splice(t,1),e.index--)}get isRenderable(){return 7===this.root.localDisplayStatus&&0<this.worldAlpha}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}}const S=new n.o(null),k=new n.o(null),T=new n.o(null,1,1),E=1,I=2,R=4;class B extends e.A{constructor(t={}){super(),this.uid=(0,h.L)("renderable"),this._updateFlags=15,this.isRenderGroupRoot=!1,this.renderGroup=null,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new a.u,this.relativeGroupTransform=new a.u,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new n.o(this,0,0),this._scale=T,this._pivot=k,this._skew=S,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1;var e=this,s=t,i={children:!0,parent:!0,effects:!0};for(const r in s)i[r]||void 0===s[r]||(e[r]=s[r]);t.children?.forEach(t=>this.addChild(t)),this.effects=[],t.parent?.addChild(this)}static mixin(t){Object.defineProperties(B.prototype,Object.getOwnPropertyDescriptors(t))}addChild(...e){if(this.allowChildren||(0,o.t)(o.l,"addChild: Only Containers will be allowed to add children in v8.0.0"),1<e.length){for(let t=0;t<e.length;t++)this.addChild(e[t]);return e[0]}var t=e[0];return t.parent===this?(this.children.splice(this.children.indexOf(t),1),this.children.push(t),this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0)):(t.parent&&t.parent.removeChild(t),this.children.push(t),this.sortableChildren&&(this.sortDirty=!0),t.parent=this,t.didChange=!0,t.didViewUpdate=!1,t._updateFlags=15,this.renderGroup&&this.renderGroup.addChild(t),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this),this._didChangeId+=4096,0!==t._zIndex&&t.depthOfChildModified()),t}removeChild(...e){if(1<e.length){for(let t=0;t<e.length;t++)this.removeChild(e[t]);return e[0]}var t=e[0],s=this.children.indexOf(t);return-1<s&&(this._didChangeId+=4096,this.children.splice(s,1),this.renderGroup&&this.renderGroup.removeChild(t),t.parent=null,this.emit("childRemoved",t,this,s),t.emit("removed",this)),t}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didChangeId++,this.didChange||(this.didChange=!0,this.isRenderGroupRoot?(t=this.renderGroup.renderGroupParent)&&t.onChildUpdate(this):this.renderGroup&&this.renderGroup.onChildUpdate(this))}set isRenderGroup(t){if(this.isRenderGroupRoot&&!1===t)throw new Error("[Pixi] cannot undo a render group just yet");t&&this.enableRenderGroup()}get isRenderGroup(){return this.isRenderGroupRoot}enableRenderGroup(){if(!this.renderGroup||this.renderGroup.root!==this){this.isRenderGroupRoot=!0;var s=this.renderGroup;if(s&&s.removeChild(this),this.renderGroup=new P(this),s){for(let e=0;e<s.renderGroupChildren.length;e++){var i=s.renderGroupChildren[e];let t=i.root;for(;t;){if(t===this){this.renderGroup.addRenderGroupChild(i);break}t=t.parent}}s.addRenderGroupChild(this.renderGroup)}this._updateIsSimple(),this.groupTransform=a.u.IDENTITY}}_updateIsSimple(){this.isSimple=!this.isRenderGroupRoot&&0===this.effects.length}get worldTransform(){return this._worldTransform||(this._worldTransform=new a.u),this.renderGroup&&(this.isRenderGroupRoot?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this._worldTransform.appendFrom(this.relativeGroupTransform,this.renderGroup.worldTransform)),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*r.bO}set angle(t){this.rotation=t*r.Td}get pivot(){return this._pivot===k&&(this._pivot=new n.o(this,0,0)),this._pivot}set pivot(t){this._pivot===k&&(this._pivot=new n.o(this,0,0)),"number"==typeof t?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===S&&(this._skew=new n.o(this,0,0)),this._skew}set skew(t){this._skew===S&&(this._skew=new n.o(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===T&&(this._scale=new n.o(this,1,1)),this._scale}set scale(t){this._scale===T&&(this._scale=new n.o(this,0,0)),"number"==typeof t?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){var e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){var e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t=t||{};var e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){var s=this.getLocalBounds();let i,r;r="object"!=typeof t?(i=t,e??t):(i=t.width,t.height??t.width),void 0!==i&&this._setWidth(i,s.width),void 0!==r&&this._setHeight(r,s.height)}_updateSkew(){var t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(("number"==typeof t.x?t:this.position).x,("number"==typeof t.y?t:this.position).y),this.scale.set("number"==typeof t.scaleX?t.scaleX||1:this.scale.x,"number"==typeof t.scaleY?t.scaleY||1:this.scale.y),this.rotation=("number"==typeof t.rotation?t:this).rotation,this.skew.set("number"==typeof t.skewX?t.skewX:this.skew.x,"number"==typeof t.skewY?t.skewY:this.skew.y),this.pivot.set("number"==typeof t.pivotX?t.pivotX:this.pivot.x,"number"==typeof t.pivotY?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){var t,e,s,i,r,a;(15&this._didLocalTransformChangeId)!==this._didChangeId&&(this._didLocalTransformChangeId=this._didChangeId,t=this.localTransform,i=this._scale,a=this._pivot,e=this._position,s=i._x,i=i._y,r=a._x,a=a._y,t.a=this._cx*s,t.b=this._sx*s,t.c=this._cy*i,t.d=this._sy*i,t.tx=e._x-(r*t.a+a*t.c),t.ty=e._y-(r*t.b+a*t.d))}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=E,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){t=i.Q.shared.setValue(t??16777215).toBgrNumber();t!==this.localColor&&(this.localColor=t,this._updateFlags|=E,this._onUpdate())}get tint(){var t=this.localColor;return((255&t)<<16)+(65280&t)+(t>>16&255)}set blendMode(t){this.localBlendMode!==t&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=I,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(2&this.localDisplayStatus)}set visible(t){(2&this.localDisplayStatus)>>1!=(t?1:0)&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=R,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(4&this.localDisplayStatus)}set culled(t){(4&this.localDisplayStatus)>>2!=(t?1:0)&&(this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._updateFlags|=R,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(1&this.localDisplayStatus)}set renderable(t){(1&this.localDisplayStatus)!=(t?1:0)&&(this._updateFlags|=R,this.localDisplayStatus^=1,this.renderGroup&&!this.isRenderGroupRoot&&(this.renderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return 7===this.localDisplayStatus&&0<this.groupAlpha}destroy(e=!1){if(!this.destroyed){this.destroyed=!0,this.removeFromParent(),this.parent=null,this._mask=null,this._filters=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners();var t="boolean"==typeof e?e:e?.children,s=this.removeChildren(0,this.children.length);if(t)for(let t=0;t<s.length;++t)s[t].destroy(e)}}}B.mixin(u),B.mixin(M),B.mixin({_onRender:null,set onRender(t){var e=this.renderGroup;t?(this._onRender||e?.addOnRender(this),this._onRender=t):(this._onRender&&e?.removeOnRender(this),this._onRender=null)},get onRender(){return this._onRender}}),B.mixin(x),B.mixin(c),B.mixin(m),B.mixin(b),B.mixin({cullArea:null,cullable:!1,cullableChildren:!0})},9636:(t,e,s)=>{"use strict";s.d(e,{c:()=>a});var e=s(9313),i=s(9252);const r=new e.u;class a{constructor(t=1/0,e=1/0,s=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=r,this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new i.M);var t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=r,this}set(t,e,s,i){this.minX=t,this.minY=e,this.maxX=s,this.maxY=i}addFrame(t,e,s,i,r){var a=(r=r||this.matrix).a,n=r.b,h=r.c,o=r.d,l=r.tx,r=r.ty;let u=this.minX,d=this.minY,c=this.maxX,p=this.maxY;var f=a*t+h*e+l,m=n*t+o*e+r;f<u&&(u=f),m<d&&(d=m),f>c&&(c=f),m>p&&(p=m),m=n*s+o*e+r,(f=a*s+h*e+l)<u&&(u=f),m<d&&(d=m),f>c&&(c=f),m>p&&(p=m),m=n*t+o*i+r,(f=a*t+h*i+l)<u&&(u=f),m<d&&(d=m),f>c&&(c=f),m>p&&(p=m),m=n*s+o*i+r,(f=a*s+h*i+l)<u&&(u=f),m<d&&(d=m),f>c&&(c=f),m>p&&(p=m),this.minX=u,this.minY=d,this.maxX=c,this.maxY=p}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=(this.minX>t.minX?this:t).minX,this.minY=(this.minY>t.minY?this:t).minY,this.maxX=(this.maxX<t.maxX?this:t).maxX,this.maxY=(this.maxY<t.maxY?this:t).maxY}applyMatrix(t){var e=this.minX,s=this.minY,i=this.maxX,r=this.maxY,{a:t,b:a,c:n,d:h,tx:o,ty:l}=t,u=t*e+n*s+o,d=a*e+h*s+l;this.minX=u,this.minY=d,this.maxX=u,this.maxY=d,d=a*i+h*s+l,this.minX=(u=t*i+n*s+o)<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY,d=a*e+h*r+l,this.minX=(u=t*e+n*r+o)<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY,d=a*i+h*r+l,this.minX=(u=t*i+n*r+o)<this.minX?u:this.minX,this.minY=d<this.minY?d:this.minY,this.maxX=u>this.maxX?u:this.maxX,this.maxY=d>this.maxY?d:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,s,i){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<s&&(this.minY=s),this.maxY>i&&(this.maxY=i),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new a(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){var e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){var e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return 0<this.maxX-this.minX&&0<this.maxY-this.minY}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,s,i,t){let r=this.minX,a=this.minY,n=this.maxX,h=this.maxY;var o=(t=t||this.matrix).a,l=t.b,u=t.c,d=t.d,c=t.tx,p=t.ty;for(let t=s;t<i;t+=2){var f=e[t],m=e[t+1],g=o*f+u*m+c,f=l*f+d*m+p;r=g<r?g:r,a=f<a?f:a,n=g>n?g:n,h=f>h?f:h}this.minX=r,this.minY=a,this.maxX=n,this.maxY=h}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}},9443:(t,e,s)=>{"use strict";s.d(e,{Ek:()=>a,fB:()=>function(t,e,s){s.clear();let i,r;i=t.parent?e?t.parent.worldTransform:(r=l.u.get().identity(),a(t,r)):o.u.IDENTITY;(function e(s,i,t,r){if(!s.visible||!s.measurable)return;let a;r?a=s.worldTransform:(s.updateLocalTransform(),(a=l.u.get()).appendFrom(s.localTransform,t));const n=i;const h=!!s.effects.length;h&&(i=l.o.get().clear());if(s.boundsArea)i.addRect(s.boundsArea,a);else{s.addBounds&&(i.matrix=a,s.addBounds(i));for(let t=0;t<s.children.length;t++)e(s.children[t],i,a,r)}if(h){for(let t=0;t<s.effects.length;t++)s.effects[t].addBounds?.(i);n.addBounds(i,o.u.IDENTITY),l.o.return(i)}r||l.u.return(a)})(t,s,i,e),r&&l.u.return(r);s.isValid||s.set(0,0,0,0);return s}});var o=s(9313),l=s(2208);function a(t,e){t=t.parent;return t&&(a(t,e),t.updateLocalTransform(),e.append(t.localTransform)),e}},7269:(t,e,s)=>{"use strict";s.d(e,{n:()=>function(t,e,s){e.clear(),s=s||d.u.IDENTITY,function e(s,i,t,r,a){let n;if(a)n=c.u.get(),n=t.copyTo(n);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const l=s.localTransform;(n=c.u.get()).appendFrom(l,t)}const h=i;const o=!!s.effects.length;o&&(i=c.o.get().clear());if(s.boundsArea)i.addRect(s.boundsArea,n);else{s.renderPipeId&&(i.matrix=n,s.addBounds(i));const u=s.children;for(let t=0;t<u.length;t++)e(u[t],i,n,r,!1)}if(o){for(let t=0;t<s.effects.length;t++)s.effects[t].addLocalBounds?.(i,r);h.addBounds(i,d.u.IDENTITY),c.o.return(i)}c.u.return(n)}(t,e,s,t,!0),e.isValid||e.set(0,0,0,0);return e}});var d=s(9313),c=s(2208)},2208:(t,e,s)=>{"use strict";s.d(e,{o:()=>a,u:()=>r});var e=s(9313),i=s(8425),s=s(9636);const r=new i.b(e.u),a=new i.b(s.c)},4389:(t,e,s)=>{"use strict";s.d(e,{G:()=>i});class i{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(e,s,i){var r=this.geometryData.indices;for(let t=0;t<this.indexSize;t++)e[s++]=r[t+this.indexOffset]+i-this.vertexOffset}packAttributes(e,s,i,r){var t,a=this.geometryData,n=this.renderable,h=a.vertices,o=a.uvs,a=2*this.vertexOffset,l=2*(this.vertexOffset+this.vertexSize),u=this.color,u=u>>16|65280&u|(255&u)<<16;if(this.applyTransform){c=u,t=n.groupColor;var d=(16777215!==c&&t?16777215!==t&&c?((c>>16&255)*(t>>16&255)/255<<16)+((c>>8&255)*(t>>8&255)/255<<8)+(255&c)*(255&t)/255:c:t)+(this.alpha*n.groupAlpha*255<<24),c=n.groupTransform,p=r<<16|65535&this.roundPixels,f=c.a,m=c.b,g=c.c,y=c.d,_=c.tx,v=c.ty;for(let t=a;t<l;t+=2){var x=h[t],b=h[t+1];e[i]=f*x+g*b+_,e[i+1]=m*x+y*b+v,e[i+2]=o[t],e[i+3]=o[t+1],s[i+4]=d,s[i+5]=p,i+=6}}else{var A=u+(255*this.alpha<<24);for(let t=a;t<l;t+=2)e[i]=h[t],e[i+1]=h[t+1],e[i+2]=o[t],e[i+3]=o[t+1],s[i+4]=A,s[i+5]=r<<16,i+=6}}get vertSize(){return this.vertexSize}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.vertexOffset=this.vertexOffset,t.vertexSize=this.vertexSize,t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData}reset(){this.applyTransform=!0}}},4835:(M,t,e)=>{"use strict";e.d(t,{T:()=>q});var t=e(4486),l=e(2577),n=e(9313),u=e(5101),s=e(4492),i=e(133),r=e(4670),a=e(9636),g=e(268),d=e(8133);var c=e(9252);class h{constructor(t=0,e=0,s=0){this.type="circle",this.x=t,this.y=e,this.radius=s}clone(){return new h(this.x,this.y,this.radius)}contains(t,e){var s;return!(this.radius<=0)&&(s=this.radius*this.radius,t=this.x-t,e=this.y-e,(t*=t)+(e*=e)<=s)}strokeContains(t,e,s){var i;return 0!==this.radius&&(t=this.x-t,e=this.y-e,i=this.radius,s=s/2,(t=Math.sqrt(t*t+e*e))<i+s)&&i-s<t}getBounds(t){return(t=t||new c.M).x=this.x-this.radius,t.y=this.y-this.radius,t.width=2*this.radius,t.height=2*this.radius,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class o{constructor(t=0,e=0,s=0,i=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=s,this.halfHeight=i}clone(){return new o(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){return!(this.halfWidth<=0||this.halfHeight<=0)&&(t=(t-this.x)/this.halfWidth,e=(e-this.y)/this.halfHeight,(t*=t)+(e*=e)<=1)}strokeContains(t,e,s){var i,r,{halfWidth:a,halfHeight:n}=this;return!(a<=0||n<=0)&&(i=a+(s=s/2),r=n+s,1<(t=t-this.x)*t/((a=a-s)*a)+(a=e-this.y)*a/((e=n-s)*e))&&t*t/(i*i)+a*a/(r*r)<=1}getBounds(){return new c.M(this.x-this.halfWidth,this.y-this.halfHeight,2*this.halfWidth,2*this.halfHeight)}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}class p{constructor(...t){this.type="polygon";let s=Array.isArray(t[0])?t[0]:t;if("number"!=typeof s[0]){var i=[];for(let t=0,e=s.length;t<e;t++)i.push(s[t].x,s[t].y);s=i}this.points=s,this.closePath=!0}clone(){var t=this.points.slice(),t=new p(t);return t.closePath=this.closePath,t}contains(s,i){let r=!1;var a=this.points.length/2;for(let t=0,e=a-1;t<a;e=t++){var n=this.points[2*t],h=this.points[2*t+1],o=this.points[2*e],l=this.points[2*e+1];i<h!=i<l&&s<(i-h)/(l-h)*(o-n)+n&&(r=!r)}return r}strokeContains(e,s,t){var t=t/2,i=t*t,r=this["points"],a=r.length-(this.closePath?0:2);for(let t=0;t<a;t+=2)if(function(t,e,s,i,r,a){var n=r-s,h=a-i,o=n*n+h*h;let l=-1;0!=o&&(l=((t-s)*n+(e-i)*h)/o);let u,d;return d=l<0?(u=s,i):1<l?(u=r,a):(u=s+l*n,i+l*h),o=t-u,r=e-d,o*o+r*r}(e,s,r[t],r[t+1],r[(t+2)%r.length],r[(t+3)%r.length])<=i)return!0;return!1}getBounds(t){t=t||new c.M;var s=this.points;let i=1/0,r=-1/0,a=1/0,n=-1/0;for(let t=0,e=s.length;t<e;t+=2){var h=s[t],o=s[t+1];i=h<i?h:i,r=h>r?h:r,a=o<a?o:a,n=o>n?o:n}return t.x=i,t.width=r-i,t.y=a,t.height=n-a,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>t+", "+e,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const f=(t,e,s,i,r,a)=>{t-=s,s=e-i,e=Math.sqrt(t*t+s*s);return r-a<=e&&e<=r+a};class m{constructor(t=0,e=0,s=0,i=0,r=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=s,this.height=i,this.radius=r}getBounds(t){return(t=t||new c.M).x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new m(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(!(this.width<=0||this.height<=0)&&t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+s&&e<=this.y+this.height-s||t>=this.x+s&&t<=this.x+this.width-s)return!0;var i=t-(this.x+s),r=e-(this.y+s),a=s*s;if(i*i+r*r<=a)return!0;if((i=t-(this.x+this.width-s))*i+r*r<=a)return!0;if(i*i+(r=e-(this.y+this.height-s))*r<=a)return!0;if((i=t-(this.x+s))*i+r*r<=a)return!0}return!1}strokeContains(t,e,s){var{x:i,y:r,width:a,height:n,radius:h}=this,s=s/2,o=i+h,l=r+h,u=i+a,d=r+n;return(i-s<=t&&t<=i+s||u-s<=t&&t<=u+s)&&l<=e&&e<=l+(n-2*h)||(r-s<=e&&e<=r+s||d-s<=e&&e<=d+s)&&o<=t&&t<=o+(a-2*h)||t<o&&e<l&&f(t,e,o,l,h,s)||u-h<t&&e<l&&f(t,e,u-h,l,h,s)||u-h<t&&d-h<e&&f(t,e,u-h,d-h,h,s)||t<o&&d-h<e&&f(t,e,o,d-h,h,s)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var y=e(3428);const k=8,T=1.1920929e-7,S=1,E=.01,I=0,R=0;function D(t,e,s,i,r,a,n,h,o,l){l=Math.min(.99,Math.max(0,l??y.GH.defaultOptions.bezierSmoothness)),l=S-l;(function t(r,a,n,h,o,l,u,d,c,p,e){if(e>k)return;const f=Math.PI;const s=(r+n)/2;const i=(a+h)/2;const m=(n+o)/2;const g=(h+l)/2;const y=(o+u)/2;const _=(l+d)/2;const v=(s+m)/2;const x=(i+g)/2;const b=(m+y)/2;const A=(g+_)/2;const w=(v+b)/2;const M=(x+A)/2;if(0<e){let t=u-r,e=d-a;const C=Math.abs((n-u)*e-(h-d)*t),P=Math.abs((o-u)*e-(l-d)*t);let s,i;if(C>T&&P>T){if((C+P)*(C+P)<=p*(t*t+e*e)){if(I<E)return void c.push(w,M);const S=Math.atan2(l-h,o-n);if(s=Math.abs(S-Math.atan2(h-a,n-r)),i=Math.abs(Math.atan2(d-l,u-o)-S),s>=f&&(s=2*f-s),i>=f&&(i=2*f-i),s+i<I)return void c.push(w,M);if(0!==R){if(s>R)return void c.push(n,h);if(i>R)return void c.push(o,l)}}}else if(C>T){if(C*C<=p*(t*t+e*e)){if(I<E)return void c.push(w,M);if((s=(s=Math.abs(Math.atan2(l-h,o-n)-Math.atan2(h-a,n-r)))>=f?2*f-s:s)<I)return c.push(n,h),void c.push(o,l);if(0!==R&&s>R)return void c.push(n,h)}}else if(P>T){if(P*P<=p*(t*t+e*e)){if(I<E)return void c.push(w,M);if((s=(s=Math.abs(Math.atan2(d-l,u-o)-Math.atan2(l-h,o-n)))>=f?2*f-s:s)<I)return c.push(n,h),void c.push(o,l);if(0!==R&&s>R)return void c.push(o,l)}}else if(t=w-(r+u)/2,e=M-(a+d)/2,t*t+e*e<=p)return void c.push(w,M)}t(r,a,s,i,v,x,w,M,c,p,e+1);t(w,M,b,A,y,_,u,d,c,p,e+1)})(e,s,i,r,a,n,e=h,s=o,i=t,l*=l,0),i.push(e,s)}const B=8,L=1.1920929e-7,O=.01,x=0;function F(t,e,s,i,r,a,n,h){h=1-Math.min(.99,Math.max(0,h??y.GH.defaultOptions.bezierSmoothness));(function t(e,s,i,r,a,n,h,o,l){if(l>B)return;const u=Math.PI;const d=(s+r)/2;const c=(i+a)/2;const p=(r+n)/2;const f=(a+h)/2;const m=(d+p)/2;const g=(c+f)/2;let y=n-s;let _=h-i;const v=Math.abs((r-n)*_-(a-h)*y);if(v>L){if(v*v<=o*(y*y+_*_)){if(x<O)return void e.push(m,g);let t=Math.abs(Math.atan2(h-a,n-r)-Math.atan2(a-i,r-s));if((t=t>=u?2*u-t:t)<x)return void e.push(m,g)}}else if(y=m-(s+n)/2,_=g-(i+h)/2,y*y+_*_<=o)return void e.push(m,g);t(e,s,i,d,c,m,g,o,l+1);t(e,m,g,p,f,n,h,o,l+1)})(t=t,e,s,i,r,e=a,s=n,h*=h,0),t.push(e,s)}function _(e,s,i,r,t,a,n,h){let o=Math.abs(t-a);(!n&&a<t||n&&t<a)&&(o=2*Math.PI-o),h=h||Math.max(6,Math.floor(6*Math.pow(r,1/3)*(o/Math.PI))),h=Math.max(h,3);var l=o/h;let u=t;l*=n?-1:1;for(let t=0;t<h+1;t++){var d=Math.cos(u),c=Math.sin(u);e.push(s+d*r,i+c*r),u+=l}}const G=2*Math.PI,U={centerX:0,centerY:0,ang1:0,ang2:0},Y=({x:t,y:e},s,i,r,a,n,h,o)=>{s=a*(t*=s)+r*(e*=i);return o.x=r*t-a*e+n,o.y=s+h,o};const z=(t,e,s,i)=>{let r=t*s+e*i;return(r=1<r?1:r)<-1&&(r=-1),(t*i-e*s<0?-1:1)*Math.acos(r)};function X(a,n,h,o,l,u,d,c=0,p=0,f=0){if(0!==u&&0!==d){var m=Math.sin(c*G/360),g=Math.cos(c*G/360),c=g*(n-o)/2+m*(h-l)/2,y=-m*(n-o)/2+g*(h-l)/2;if(0!=c||0!=y){u=Math.abs(u),d=Math.abs(d);var _=Math.pow(c,2)/Math.pow(u,2)+Math.pow(y,2)/Math.pow(d,2);1<_&&(u*=Math.sqrt(_),d*=Math.sqrt(_));{_=n;n=h;h=o;o=l;l=u;var v=d;var x=m;var b=g;var A=U;var w=Math.pow(l,2),M=Math.pow(v,2),C=Math.pow(c,2),P=Math.pow(y,2);let t=w*M-w*P-M*C;t<0&&(t=0),t/=w*P+M*C;w=(t=Math.sqrt(t)*(p===f?-1:1))*l/v*y,P=t*-v/l*c,M=b*w-x*P+(_+h)/2,C=x*w+b*P+(n+o)/2,p=(c-w)/l,_=(y-P)/v,h=(-c-w)/l,x=(-y-P)/v,b=z(1,0,p,_);let e=z(p,_,h,x);0===f&&0<e&&(e-=G),1===f&&e<0&&(e+=G),A.centerX=M,A.centerY=C,A.ang1=b,A.ang2=e}let{ang1:e,ang2:s}=U;var{centerX:S,centerY:k}=U;let t=Math.abs(s)/(G/4);Math.abs(1-t)<1e-7&&(t=1);var T=Math.max(Math.ceil(t),1);s/=T;let i=a[a.length-2],r=a[a.length-1];var E={x:0,y:0};for(let t=0;t<T;t++){F=e,void 0,O=R=B=L=void 0,L=-1.5707963267948966===(I=s)?-.551915024494:4/3*Math.tan(I/4),L=1.5707963267948966===I?.551915024494:L,B=Math.cos(F),R=Math.sin(F),O=Math.cos(F+I),F=Math.sin(F+I);var I=[{x:B-R*L,y:R+B*L},{x:O+F*L,y:F-O*L},{x:O,y:F}],{x:R,y:B}=Y(I[0],u,d,g,m,S,k,E),{x:L,y:O}=Y(I[1],u,d,g,m,S,k,E),{x:F,y:I}=Y(I[2],u,d,g,m,S,k,E);D(a,i,r,R,B,L,O,F,I),i=F,r=I,e+=s}}}}const N=new c.M;class H{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new a.c,this._graphicsPath2D=t}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();var s=this._currentPoly.points,i=s[s.length-2],r=s[s.length-1];return i===t&&r===e||s.push(t,e),this}arc(t,e,s,i,r,a){return this._ensurePoly(!1),_(this._currentPoly.points,t,e,s,i,r,a),this}arcTo(t,e,s,i,r){this._ensurePoly();var a,n,h,o,l,u,d,c=this._currentPoly.points;return t=t,e=e,s=s,i=i,r=r,l=(c=c)[c.length-2],u=c[c.length-1]-e,l-=t,i-=e,s-=t,(d=Math.abs(u*s-l*i))<1e-8||0===r?c[c.length-2]===t&&c[c.length-1]===e||c.push(t,e):(n=u*u+l*l,h=i*i+s*s,o=u*i+l*s,n=(a=r*Math.sqrt(n)/d)*o/n,h=s*(a+(o=(d=r*Math.sqrt(h)/d)*o/h)),o=i*(a+o),_(c,(c=a*s+d*l)+t,(t=a*i+d*u)+e,r,Math.atan2(u*(d+n)-t,l*(d+n)-c),Math.atan2(o-t,h-c),s*u<l*i)),this}arcToSvg(t,e,s,i,r,a,n){return X(this._currentPoly.points,this._currentPoly.lastX,this._currentPoly.lastY,a,n,t,e,s,i,r),this}bezierCurveTo(t,e,s,i,r,a,n){this._ensurePoly();var h=this._currentPoly;return D(this._currentPoly.points,h.lastX,h.lastY,t,e,s,i,r,a,n),this}quadraticCurveTo(t,e,s,i,r){this._ensurePoly();var a=this._currentPoly;return F(this._currentPoly.points,a.lastX,a.lastY,t,e,s,i,r),this}closePath(){return this.endPoly(!0),this}addPath(e,t){this.endPoly(),t&&!t.isIdentity()&&(e=e.clone(!0)).transform(t);for(let t=0;t<e.instructions.length;t++){var s=e.instructions[t];this[s.action](...s.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,e,s,i,r){return this.drawShape(new c.M(t,e,s,i),r),this}circle(t,e,s,i){return this.drawShape(new h(t,e,s),i),this}poly(t,e,s){t=new p(t);return t.closePath=e,this.drawShape(t,s),this}regularPoly(e,s,i,r,t=0,a){r=Math.max(0|r,3);var n=-1*Math.PI/2+t,h=2*Math.PI/r,o=[];for(let t=0;t<r;t++){var l=t*h+n;o.push(e+i*Math.cos(l),s+i*Math.sin(l))}return this.poly(o,!0,a),this}roundPoly(e,s,i,r,a,t=0,n){if(r=Math.max(0|r,3),a<=0)return this.regularPoly(e,s,i,r,t);var h=i*Math.sin(Math.PI/r)-.001,o=(a=Math.min(a,h),-1*Math.PI/2+t),l=2*Math.PI/r,u=(r-2)*Math.PI/r/2;for(let t=0;t<r;t++){var d=t*l+o,c=e+i*Math.cos(d),p=s+i*Math.sin(d),f=d+Math.PI+u,d=d-Math.PI-u,m=c+a*Math.cos(f),f=p+a*Math.sin(f),g=c+a*Math.cos(d),d=p+a*Math.sin(d);0===t?this.moveTo(m,f):this.lineTo(m,f),this.quadraticCurveTo(c,p,g,d,n)}return this.closePath()}roundShape(e,s,t=!1,i){if(e.length<3)return this;if(t){var r=this,a=e,n=s,h=i,o=(t,e)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),l=(t,e,s)=>({x:t.x+(e.x-t.x)*s,y:t.y+(e.y-t.y)*s}),u=a.length;for(let s=0;s<u;s++){var d=a[(s+1)%u],c=d.radius??n;if(c<=0)0===s?r.moveTo(d.x,d.y):r.lineTo(d.x,d.y);else{var p=a[s],f=a[(s+2)%u],m=o(p,d);let t;t=m<1e-4?d:l(d,p,Math.min(m/2,c)/m);p=o(f,d);let e;e=p<1e-4?d:l(d,f,Math.min(p/2,c)/p),0===s?r.moveTo(t.x,t.y):r.lineTo(t.x,t.y),r.quadraticCurveTo(d.x,d.y,e.x,e.y,h)}}}else{var g=this;var y=e;var _=s;var v=(t,e)=>{var s=e.x-t.x,e=e.y-t.y,t=Math.sqrt(s*s+e*e);return{len:t,nx:s/t,ny:e/t}},x=(t,e)=>{0===t?g.moveTo(e.x,e.y):g.lineTo(e.x,e.y)};let t=y[y.length-1];for(let a=0;a<y.length;a++){var b=y[a%y.length],A=b.radius??_;if(A<=0)x(a,b);else{var w=y[(a+1)%y.length],M=v(b,t),w=v(b,w);if(M.len<1e-4||w.len<1e-4)x(a,b);else{let t=Math.asin(M.nx*w.ny-M.ny*w.nx),e=1,s=!1;M.nx*w.nx-M.ny*-w.ny<0?t<0?t=Math.PI+t:(t=Math.PI-t,e=-1,s=!0):0<t&&(e=-1,s=!0);var C=t/2;let i,r=Math.abs(Math.cos(C)*A/Math.sin(C));i=r>Math.min(M.len/2,w.len/2)?(r=Math.min(M.len/2,w.len/2),Math.abs(r*Math.sin(C)/Math.cos(C))):A;C=b.x+w.nx*r+-w.ny*i*e,A=b.y+w.ny*r+w.nx*i*e,M=Math.atan2(M.ny,M.nx)+Math.PI/2*e,w=Math.atan2(w.ny,w.nx)-Math.PI/2*e;0===a&&g.moveTo(C+Math.cos(M)*i,A+Math.sin(M)*i),g.arc(C,A,i,M,w,s)}}t=b}}return this.closePath()}filletRect(t,e,s,i,r){var a,n;return 0===r?this.rect(t,e,s,i):(n=Math.min(s,i)/2,a=t+s,i=e+i,r=(n=Math.min(n,Math.max(-n,r)))<0?-n:0,n=Math.abs(n),this.moveTo(t,e+n).arcTo(t+r,e+r,t+n,e,n).lineTo(a-n,e).arcTo(a-r,e+r,a,e+n,n).lineTo(a,i-n).arcTo(a-r,i-r,t+s-n,i,n).lineTo(t+n,i).arcTo(t+r,i-r,t,i-n,n).closePath())}chamferRect(t,e,s,i,r,a){if(r<=0)return this.rect(t,e,s,i);var r=Math.min(r,Math.min(s,i)/2),s=t+s,i=e+i,n=[t+r,e,s-r,e,s,e+r,s,i-r,s-r,i,t+r,i,t,i-r,t,e+r];for(let t=n.length-1;2<=t;t-=2)n[t]===n[t-2]&&n[t-1]===n[t-3]&&n.splice(t-1,2);return this.poly(n,!0,a)}ellipse(t,e,s,i,r){return this.drawShape(new o(t,e,s,i),r),this}roundRect(t,e,s,i,r,a){return this.drawShape(new m(t,e,s,i,r),a),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){var s=this._currentPoly;return s&&this.endPoly(),(s=new p).points.push(t,e),this._currentPoly=s,this}endPoly(t=!1){var e=this._currentPoly;return e&&2<e.points.length&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(s=!0){if(!this._currentPoly&&(this._currentPoly=new p,s)){var i,s=this.shapePrimitives[this.shapePrimitives.length-1];if(s){let t=s.shape.x,e=s.shape.y;s.transform.isIdentity()||(s=s.transform,i=t,t=s.a*t+s.c*e+s.tx,e=s.b*i+s.d*e+s.ty),this._currentPoly.points.push(t,e)}else this._currentPoly.points.push(0,0)}}buildPath(){var e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let t=0;t<e.instructions.length;t++){var s=e.instructions[t];this[s.action](...s.data)}this.finish()}get bounds(){var e=this._bounds,s=(e.clear(),this.shapePrimitives);for(let t=0;t<s.length;t++){var i=s[t],r=i.shape.getBounds(N);i.transform?e.addRect(r,i.transform):e.addRect(r)}return e}}class C{constructor(t){if(this.instructions=[],this.uid=(0,i.L)("graphicsPath"),this._dirty=!0,"string"==typeof t){var r=t;var a=this;var n=d(r),h=[];let e=null,s=0,i=0;for(let t=0;t<n.length;t++){var o=n[t],l=o[0],u=o;switch(l){case"M":s=u[1],i=u[2],a.moveTo(s,i);break;case"m":s+=u[1],i+=u[2],a.moveTo(s,i);break;case"H":s=u[1],a.lineTo(s,i);break;case"h":s+=u[1],a.lineTo(s,i);break;case"V":i=u[1],a.lineTo(s,i);break;case"v":i+=u[1],a.lineTo(s,i);break;case"L":s=u[1],i=u[2],a.lineTo(s,i);break;case"l":s+=u[1],i+=u[2],a.lineTo(s,i);break;case"C":s=u[5],i=u[6],a.bezierCurveTo(u[1],u[2],u[3],u[4],s,i);break;case"c":a.bezierCurveTo(s+u[1],i+u[2],s+u[3],i+u[4],s+u[5],i+u[6]),s+=u[5],i+=u[6];break;case"S":s=u[3],i=u[4],a.bezierCurveToShort(u[1],u[2],s,i);break;case"s":a.bezierCurveToShort(s+u[1],i+u[2],s+u[3],i+u[4]),s+=u[3],i+=u[4];break;case"Q":s=u[3],i=u[4],a.quadraticCurveTo(u[1],u[2],s,i);break;case"q":a.quadraticCurveTo(s+u[1],i+u[2],s+u[3],i+u[4]),s+=u[3],i+=u[4];break;case"T":s=u[1],i=u[2],a.quadraticCurveToShort(s,i);break;case"t":s+=u[1],i+=u[2],a.quadraticCurveToShort(s,i);break;case"A":s=u[6],i=u[7],a.arcToSvg(u[1],u[2],u[3],u[4],u[5],s,i);break;case"a":s+=u[6],i+=u[7],a.arcToSvg(u[1],u[2],u[3],u[4],u[5],s,i);break;case"Z":case"z":a.closePath(),0<h.length&&(e=h.pop(),i=e?(s=e.startX,e.startY):s=0),e=null;break;default:(0,g.R)("Unknown SVG path command: "+l)}"Z"!==l&&"z"!==l&&null===e&&(e={startX:s,startY:i},h.push(e))}}else this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new H(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,s,i,r){var a,n=this.instructions[this.instructions.length-1],h=this.getLastPoint(u.b.shared);let o=0,l=0;return l=n&&"bezierCurveTo"===n.action?(o=n.data[2],l=n.data[3],n=h.x,a=h.y,o=n+(n-o),a+(a-l)):(o=h.x,h.y),this.instructions.push({action:"bezierCurveTo",data:[o,l,t,e,s,i,r]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,s){var i,r=this.instructions[this.instructions.length-1],a=this.getLastPoint(u.b.shared);let n=0,h=0;return h=r&&"quadraticCurveTo"===r.action?(n=r.data[0],h=r.data[1],r=a.x,i=a.y,n=r+(r-n),i+(i-h)):(n=a.x,a.y),this.instructions.push({action:"quadraticCurveTo",data:[n,h,t,e,s]}),this._dirty=!0,this}rect(t,e,s,i,r){return this.instructions.push({action:"rect",data:[t,e,s,i,r]}),this._dirty=!0,this}circle(t,e,s,i){return this.instructions.push({action:"circle",data:[t,e,s,i]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(e,s,t,i,r,a,n){r=r||i/2;var h=-1*Math.PI/2+a,o=2*t,l=2*Math.PI/o,u=[];for(let t=0;t<o;t++){var d=t%2?r:i,c=t*l+h;u.push(e+d*Math.cos(c),s+d*Math.sin(c))}return this.poly(u,!0,n),this}clone(t=!1){var e=new C;if(t)for(let t=0;t<this.instructions.length;t++){var s=this.instructions[t];e.instructions.push({action:s.action,data:s.data.slice()})}else e.instructions=this.instructions.slice();return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(a){if(!a.isIdentity()){var n=a.a,h=a.b,o=a.c,l=a.d,u=a.tx,d=a.ty;let e=0,s=0,i=0,r=0;var c,p;for(let t=0;t<this.instructions.length;t++){var f=this.instructions[t],m=f.data;switch(f.action){case"moveTo":case"lineTo":e=m[0],s=m[1],m[0]=n*e+o*s+u,m[1]=h*e+l*s+d;break;case"bezierCurveTo":i=m[0],r=m[1],c=m[2],p=m[3],e=m[4],s=m[5],m[0]=n*i+o*r+u,m[1]=h*i+l*r+d,m[2]=n*c+o*p+u,m[3]=h*c+l*p+d,m[4]=n*e+o*s+u,m[5]=h*e+l*s+d;break;case"quadraticCurveTo":i=m[0],r=m[1],e=m[2],s=m[3],m[0]=n*i+o*r+u,m[1]=h*i+l*r+d,m[2]=n*e+o*s+u,m[3]=h*e+l*s+d;break;case"arcToSvg":e=m[5],s=m[6],c=m[0],p=m[1],m[0]=n*c+o*p,m[1]=h*c+l*p,m[5]=n*e+o*s+u,m[6]=h*e+l*s+d;break;case"circle":m[4]=v(m[3],a);break;case"rect":m[4]=v(m[4],a);break;case"ellipse":m[8]=v(m[8],a);break;case"roundRect":m[5]=v(m[5],a);break;case"addPath":m[0].transform(a);break;case"poly":m[2]=v(m[2],a);break;default:(0,g.R)("unknown transform action",f.action)}}this._dirty=!0}return this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,s=this.instructions[e];if(s){for(;"closePath"===s.action;){if(--e<0)return t.x=0,t.y=0,t;s=this.instructions[e]}switch(s.action){case"moveTo":case"lineTo":t.x=s.data[0],t.y=s.data[1];break;case"quadraticCurveTo":t.x=s.data[2],t.y=s.data[3];break;case"bezierCurveTo":t.x=s.data[4],t.y=s.data[5];break;case"arc":case"arcToSvg":t.x=s.data[5],t.y=s.data[6];break;case"addPath":s.data[0].getLastPoint(t)}}else t.x=0,t.y=0;return t}}function v(t,e){return t?t.prepend(e):e.clone()}function V(t,e){"string"==typeof t&&((s=document.createElement("div")).innerHTML=t.trim(),t=s.querySelector("svg"));var s={context:e,path:new C};!function e(t,s,i,r){const a=t.children;const{fillStyle:n,strokeStyle:h}=j(t);n&&i?i={...i,...n}:n&&(i=n);h&&r?r={...r,...h}:h&&(r=h);s.context.fillStyle=i;s.context.strokeStyle=r;let o;let l;let u;let d;let c;let p;let f;let m;let g;let y;let _;let v;let x;let b;let A;let w;let M;switch(t.nodeName.toLowerCase()){case"path":b=t.getAttribute("d"),A=new C(b),s.context.path(A),i&&s.context.fill(),r&&s.context.stroke();break;case"circle":f=P(t,"cx",0),m=P(t,"cy",0),g=P(t,"r",0),s.context.ellipse(f,m,g,g),i&&s.context.fill(),r&&s.context.stroke();break;case"rect":o=P(t,"x",0),l=P(t,"y",0),w=P(t,"width",0),M=P(t,"height",0),y=P(t,"rx",0),_=P(t,"ry",0),y||_?s.context.roundRect(o,l,w,M,y||_):s.context.rect(o,l,w,M),i&&s.context.fill(),r&&s.context.stroke();break;case"ellipse":f=P(t,"cx",0),m=P(t,"cy",0),y=P(t,"rx",0),_=P(t,"ry",0),s.context.beginPath(),s.context.ellipse(f,m,y,_),i&&s.context.fill(),r&&s.context.stroke();break;case"line":u=P(t,"x1",0),d=P(t,"y1",0),c=P(t,"x2",0),p=P(t,"y2",0),s.context.beginPath(),s.context.moveTo(u,d),s.context.lineTo(c,p),r&&s.context.stroke();break;case"polygon":x=t.getAttribute("points"),v=x.match(/\d+/g).map(t=>parseInt(t,10)),s.context.poly(v,!0),i&&s.context.fill(),r&&s.context.stroke();break;case"polyline":x=t.getAttribute("points"),v=x.match(/\d+/g).map(t=>parseInt(t,10)),s.context.poly(v,!1),r&&s.context.stroke();break;case"g":case"svg":break;default:console.info(`[SVG parser] <${t.nodeName}> elements unsupported`)}for(let t=0;t<a.length;t++)e(a[t],s,i,r)}(t,s,null,null)}function P(t,e,s){t=t.getAttribute(e);return t?Number(t):s}function j(t){var e=t.getAttribute("style"),s={},i={};let r=!1,a=!1;if(e){var n=e.split(";");for(let t=0;t<n.length;t++){var[h,o]=n[t].split(":");switch(h){case"stroke":"none"!==o&&(s.color=l.Q.shared.setValue(o).toNumber(),a=!0);break;case"stroke-width":s.width=Number(o);break;case"fill":"none"!==o&&(r=!0,i.color=l.Q.shared.setValue(o).toNumber());break;case"fill-opacity":i.alpha=Number(o);break;case"stroke-opacity":s.alpha=Number(o);break;case"opacity":i.alpha=Number(o),s.alpha=Number(o)}}}else{e=t.getAttribute("stroke"),e=(e&&"none"!==e&&(a=!0,s.color=l.Q.shared.setValue(e).toNumber(),s.width=P(t,"stroke-width",1)),t.getAttribute("fill"));e&&"none"!==e&&(r=!0,i.color=l.Q.shared.setValue(e).toNumber())}return{strokeStyle:a?s:null,fillStyle:r?i:null}}var b=e(990);const W=new u.b,A=new n.u,w=class w extends t.A{constructor(){super(...arguments),this.uid=(0,i.L)("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new C,this._transform=new n.u,this._fillStyle={...w.defaultFillStyle},this._strokeStyle={...w.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new a.c,this._boundsDirty=!0}clone(){var t=new w;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=(0,b.M)(t,w.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=(0,b.M)(t,w.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=(0,b.M)(t,w.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=(0,b.M)(t,w.defaultStrokeStyle),this}texture(t,e,s,i,r,a){return this.instructions.push({action:"texture",data:{image:t,dx:s||0,dy:i||0,dw:r||t.frame.width,dh:a||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?l.Q.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new C,this}fill(t,e){let s;var i=this.instructions[this.instructions.length-1];return(s=0===this._tick&&i&&"stroke"===i.action?i.data.path:this._activePath.clone())&&(null!=t&&(void 0!==e&&"number"==typeof t&&((0,r.t)(r.l,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=(0,b.M)(t,w.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:s}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0),this}_initNextPathLocation(){var{x:t,y:e}=this._activePath.getLastPoint(u.b.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;var s=this.instructions[this.instructions.length-1];return(e=0===this._tick&&s&&"fill"===s.action?s.data.path:this._activePath.clone())&&(null!=t&&(this._strokeStyle=(0,b.M)(t,w.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0),this}cut(){for(let t=0;t<2;t++){var e=this.instructions[this.instructions.length-1-t],s=this._activePath.clone();if(e&&("stroke"===e.action||"fill"===e.action)){if(!e.data.hole){e.data.hole=s;break}e.data.hole.addPath(s)}}return this._initNextPathLocation(),this}arc(t,e,s,i,r,a){this._tick++;var n=this._transform;return this._activePath.arc(n.a*t+n.c*e+n.tx,n.b*t+n.d*e+n.ty,s,i,r,a),this}arcTo(t,e,s,i,r){this._tick++;var a=this._transform;return this._activePath.arcTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*s+a.c*i+a.tx,a.b*s+a.d*i+a.ty,r),this}arcToSvg(t,e,s,i,r,a,n){this._tick++;var h=this._transform;return this._activePath.arcToSvg(t,e,s,i,r,h.a*a+h.c*n+h.tx,h.b*a+h.d*n+h.ty),this}bezierCurveTo(t,e,s,i,r,a,n){this._tick++;var h=this._transform;return this._activePath.bezierCurveTo(h.a*t+h.c*e+h.tx,h.b*t+h.d*e+h.ty,h.a*s+h.c*i+h.tx,h.b*s+h.d*i+h.ty,h.a*r+h.c*a+h.tx,h.b*r+h.d*a+h.ty,n),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,s,i){return this._tick++,this._activePath.ellipse(t,e,s,i,this._transform.clone()),this}circle(t,e,s){return this._tick++,this._activePath.circle(t,e,s,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;var s=this._transform;return this._activePath.lineTo(s.a*t+s.c*e+s.tx,s.b*t+s.d*e+s.ty),this}moveTo(t,e){this._tick++;var s=this._transform,i=this._activePath.instructions,r=s.a*t+s.c*e+s.tx,t=s.b*t+s.d*e+s.ty;return 1===i.length&&"moveTo"===i[0].action?(i[0].data[0]=r,i[0].data[1]=t):this._activePath.moveTo(r,t),this}quadraticCurveTo(t,e,s,i,r){this._tick++;var a=this._transform;return this._activePath.quadraticCurveTo(a.a*t+a.c*e+a.tx,a.b*t+a.d*e+a.ty,a.a*s+a.c*i+a.tx,a.b*s+a.d*i+a.ty,r),this}rect(t,e,s,i){return this._tick++,this._activePath.rect(t,e,s,i,this._transform.clone()),this}roundRect(t,e,s,i,r){return this._tick++,this._activePath.roundRect(t,e,s,i,r,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,s,i,r=0,a){return this._tick++,this._activePath.regularPoly(t,e,s,i,r,a),this}roundPoly(t,e,s,i,r,a){return this._tick++,this._activePath.roundPoly(t,e,s,i,r,a),this}roundShape(t,e,s,i){return this._tick++,this._activePath.roundShape(t,e,s,i),this}filletRect(t,e,s,i,r){return this._tick++,this._activePath.filletRect(t,e,s,i,r),this}chamferRect(t,e,s,i,r,a){return this._tick++,this._activePath.chamferRect(t,e,s,i,r,a),this}star(t,e,s,i,r=0,a=0){return this._tick++,this._activePath.star(t,e,s,i,r,a,this._transform.clone()),this}svg(t){return this._tick++,V(t,this),this}restore(){var t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,s,i,r,a){return t instanceof n.u?this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty):this._transform.set(t,e,s,i,r,a),this}transform(t,e,s,i,r,a){return t instanceof n.u?this._transform.append(t):(A.set(t,e,s,i,r,a),this._transform.append(A)),this}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;var e=this._bounds;e.clear();for(let t=0;t<this.instructions.length;t++){var s,i=this.instructions[t],r=i.action;"fill"===r?(s=i.data,e.addBounds(s.path.bounds)):"texture"===r&&(s=i.data,e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)),"stroke"===r&&(i=(r=i.data).style.width/2,r=r.path.bounds,e.addFrame(r.minX-i,r.minY-i,r.maxX+i,r.maxY+i))}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;var s=this.instructions;let i=!1;for(let t=0;t<s.length;t++){var r=s[t],a=r.data,n=a.path;if(r.action&&n){var h=a.style,o=n.shapePath.shapePrimitives;for(let t=0;t<o.length;t++){var l=o[t].shape;if(h&&l){var u=o[t].transform,d=u?u.applyInverse(e,W):e,u=(i="fill"===r.action?l.contains(d.x,d.y):l.strokeContains(d.x,d.y,h.width),a.hole);if(u){var c=u.shapePath?.shapePrimitives;if(c)for(let t=0;t<c.length;t++)c[t].shape.contains(d.x,d.y)&&(i=!1)}if(i)return!0}}}}return i}destroy(t=!1){this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),("boolean"==typeof t?t:t?.texture)&&(t="boolean"==typeof t?t:t?.textureSource,this._fillStyle.texture&&this._fillStyle.texture.destroy(t),this._strokeStyle.texture)&&this._strokeStyle.texture.destroy(t),this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};w.defaultFillStyle={color:16777215,alpha:1,texture:s.g.WHITE,matrix:null,fill:null},w.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:s.g.WHITE,matrix:null,fill:null};let q=w},3428:(t,e,s)=>{"use strict";s.d(e,{GH:()=>g});var e=s(8507),i=s(8634),l=s(341),u=s(1478),r=s(848),D=s(8218),a=s(9252);function G(e,t,s,i,r){var a=t.a,n=t.b,h=t.c,o=t.d,l=t.tx,u=t.ty;s=s||0,i=i||2,r=r||e.length/i-s;let d=s*i;for(let t=0;t<r;t++){var c=e[d],p=e[d+1];e[d]=a*c+h*p+l,e[d+1]=n*c+o*p+u,d+=i}}var U=s(4492),Y=s(4389),n={build(t,a){let n,h,o,l,u,d;if("circle"===t.type?(n=t.x,h=t.y,u=d=t.radius,o=l=0):"ellipse"===t.type?(n=t.x,h=t.y,u=t.halfWidth,d=t.halfHeight,o=l=0):(p=t.width/2,f=t.height/2,n=t.x+p,h=t.y+f,u=d=Math.max(0,Math.min(t.radius,Math.min(p,f))),o=p-u,l=f-d),0<=u&&0<=d&&0<=o&&0<=l){var c=Math.ceil(2.3*Math.sqrt(u+d)),t=8*c+(o?4:0)+(l?4:0);if(0!=t)if(0===c)a[0]=a[6]=n+o,a[1]=a[3]=h+l,a[2]=a[4]=n-o,a[5]=a[7]=h-l;else{let e=0,s=4*c+(o?2:0)+2,i=s,r=t;var p=o+u,f=l,t=n+p,m=n-p,g=h+f;a[e++]=t,a[e++]=g,a[--s]=g,a[--s]=m,l&&(b=h-f,a[i++]=m,a[i++]=b,a[--r]=b,a[--r]=t);for(let t=1;t<c;t++){var y=Math.PI/2*(t/c),_=o+Math.cos(y)*u,y=l+Math.sin(y)*d,v=n+_,_=n-_,x=h+y,y=h-y;a[e++]=v,a[e++]=x,a[--s]=x,a[--s]=_,a[i++]=_,a[i++]=y,a[--r]=y,a[--r]=v}var p=o,f=l+d,t=n+p,m=n-p,g=h+f,b=h-f;a[e++]=t,a[e++]=g,a[--r]=b,a[--r]=t,o&&(a[e++]=m,a[e++]=g,a[--r]=b,a[--r]=m)}}return a},triangulate(r,a,n,t,h,o){if(0!==r.length){let e=0,s=0;for(let t=0;t<r.length;t+=2)e+=r[t],s+=r[t+1];e/=r.length/2,s/=r.length/2;let i=t;a[i*n]=e,a[i*n+1]=s;var l=i++;for(let t=0;t<r.length;t+=2)a[i*n]=r[t],a[i*n+1]=r[t+1],0<t&&(h[o++]=i,h[o++]=l,h[o++]=i-1),i++;h[o++]=1+l,h[o++]=l,h[o++]=i-1}}},z=s(5101);const h=1e-4,X=1e-4;function N(t,e,s,i,r,a,n,h){let o,l;l=n?(o=i,-s):(o=-i,s);n=t-s*r+o,r=e-i*r+l,t=t+s*a+o,s=e+i*a+l;return h.push(n,r),h.push(t,s),2}function H(s,i,t,e,r,a,n,h){var o=t-s,l=e-i;let u=Math.atan2(o,l),d=Math.atan2(r-s,a-i);h&&u<d?u+=2*Math.PI:!h&&u>d&&(d+=2*Math.PI);var c=u,p=d-u,f=Math.abs(p),m=Math.sqrt(o*o+l*l),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/g;if(c+=y,h){n.push(s,i),n.push(t,e);for(let t=1,e=c;t<g;t++,e+=y)n.push(s,i),n.push(s+Math.sin(e)*m,i+Math.cos(e)*m);n.push(s,i),n.push(r,a)}else{n.push(t,e),n.push(s,i);for(let t=1,e=c;t<g;t++,e+=y)n.push(s+Math.sin(e)*m,i+Math.cos(e)*m),n.push(s,i);n.push(r,a),n.push(s,i)}return 2*g}function V(c,t,p,f,m,e,s,g){var y=h;if(0!==c.length){var _=t;let e=_.alignment;if(.5!==t.alignment){let t=function(i){var r=i.length;if(r<6)return 1;let a=0;for(let t=0,e=i[r-2],s=i[r-1];t<r;t+=2){var n=i[t],h=i[t+1];a+=(n-e)*(h+s),e=n,s=h}return a<0?-1:1}(c);p&&(t*=-1),e=(e-.5)*t+.5}var t=new z.b(c[0],c[1]),p=new z.b(c[c.length-2],c[c.length-1]),y=Math.abs(t.x-p.x)<y&&Math.abs(t.y-p.y)<y,v=(f&&(c=c.slice(),y&&(c.pop(),c.pop(),p.set(c[c.length-2],c[c.length-1])),y=.5*(t.x+p.x),p=.5*(p.y+t.y),c.unshift(y,p),c.push(y,p)),m),x=c.length/2;let s=c.length;var b=v.length/2,A=_.width/2,w=A*A,M=_.miterLimit*_.miterLimit;let i=c[0],r=c[1],a=c[2],n=c[3],h=0,o=0,l=-(r-n),u=i-a;var C=0,P=0;let d=Math.sqrt(l*l+u*u);l/=d,u/=d,l*=A,u*=A;var S=2*(1-e),k=2*e;f||("round"===_.cap?s+=H(i-l*(S-k)*.5,r-u*(S-k)*.5,i-l*S,r-u*S,i+l*k,r+u*k,v,!0)+2:"square"===_.cap&&(s+=N(i,r,l,u,S,k,!0,v))),v.push(i-l*S,r-u*S),v.push(i+l*k,r+u*k);for(let t=1;t<x-1;++t){i=c[2*(t-1)],r=c[2*(t-1)+1],a=c[2*t],n=c[2*t+1],h=c[2*(t+1)],o=c[2*(t+1)+1],l=-(r-n),u=i-a,d=Math.sqrt(l*l+u*u),l/=d,u/=d,l*=A,u*=A,C=-(n-o),P=a-h;var T,E,I,R,C=C/(d=Math.sqrt(C*C+P*P))*A,P=P/d*A,B=a-i,L=r-n,O=a-h,F=o-n,D=B*O+L*F,G=L*O-F*B,U=G<0;Math.abs(G)<.001*Math.abs(D)?(v.push(a-l*S,n-u*S),v.push(a+l*k,n+u*k),0<=D&&("round"===_.join?s+=H(a,n,a-l*S,n-u*S,a-C*S,n-P*S,v,!1)+4:s+=2,v.push(a-C*k,n-P*k),v.push(a+C*S,n+P*S))):(I=(F*(D=(-l+i)*(-u+n)-(-l+a)*(-u+r))-L*(E=(-C+h)*(-P+n)-(-C+a)*(-P+o)))/G,D=((E=(B*E-O*D)/G)-a)*(E-a)+(I-n)*(I-n),G=a+(E-a)*S,T=n+(I-n)*S,E=a-(E-a)*k,I=n-(I-n)*k,R=U?S:k,D<=Math.min(B*B+L*L,O*O+F*F)+R*R*w?"bevel"===_.join||M<D/w?(U?(v.push(G,T),v.push(a+l*k,n+u*k),v.push(G,T),v.push(a+C*k,n+P*k)):(v.push(a-l*S,n-u*S),v.push(E,I),v.push(a-C*S,n-P*S),v.push(E,I)),s+=2):"round"===_.join?U?(v.push(G,T),v.push(a+l*k,n+u*k),s+=H(a,n,a+l*k,n+u*k,a+C*k,n+P*k,v,!0)+4,v.push(G,T),v.push(a+C*k,n+P*k)):(v.push(a-l*S,n-u*S),v.push(E,I),s+=H(a,n,a-l*S,n-u*S,a-C*S,n-P*S,v,!1)+4,v.push(a-C*S,n-P*S),v.push(E,I)):(v.push(G,T),v.push(E,I)):(v.push(a-l*S,n-u*S),v.push(a+l*k,n+u*k),"round"===_.join?s+=U?H(a,n,a+l*k,n+u*k,a+C*k,n+P*k,v,!0)+2:H(a,n,a-l*S,n-u*S,a-C*S,n-P*S,v,!1)+2:"miter"===_.join&&D/w<=M&&(U?(v.push(E,I),v.push(E,I)):(v.push(G,T),v.push(G,T)),s+=2),v.push(a-C*S,n-P*S),v.push(a+C*k,n+P*k),s+=2))}i=c[2*(x-2)],r=c[2*(x-2)+1],a=c[2*(x-1)],n=c[2*(x-1)+1],l=-(r-n),u=i-a,d=Math.sqrt(l*l+u*u),l/=d,u/=d,l*=A,u*=A,v.push(a-l*S,n-u*S),v.push(a+l*k,n+u*k),f||("round"===_.cap?s+=H(a-l*(S-k)*.5,n-u*(S-k)*.5,a-l*S,n-u*S,a+l*k,n+u*k,v,!1)+2:"square"===_.cap&&(s+=N(a,n,l,u,S,k,!1,v)));var Y=X*X;for(let t=b;t<s+b-2;++t)i=v[2*t],r=v[2*t+1],a=v[2*(t+1)],n=v[2*(t+1)+1],h=v[2*(t+2)],o=v[2*(t+2)+1],Math.abs(i*(n-o)+a*(o-r)+h*(r-n))<Y||g.push(t,t+1,t+2)}}var d=s(6570);function j(s,t,i,r,a,n,h){var o=d(s,t,2);if(o){for(let t=0;t<o.length;t+=3)n[h++]=o[t]+a,n[h++]=o[t+1]+a,n[h++]=o[t+2]+a;let e=a*r;for(let t=0;t<s.length;t+=2)i[e]=s[t],i[e+1]=s[t+1],e+=r}}const o=[];const W={rectangle:{build(t,e){var s=t.x,i=t.y,r=t.width,t=t.height;return 0<=r&&0<=t&&(e[0]=s,e[1]=i,e[2]=s+r,e[3]=i,e[4]=s+r,e[5]=i+t,e[6]=s,e[7]=i+t),e},triangulate(t,e,s,i,r,a){var n=0,e=(e[(i*=s)+0]=t[0],e[i+0+1]=t[1],e[i+(n+=s)]=t[2],e[i+n+1]=t[3],e[i+(n+=s)]=t[6],e[i+n+1]=t[7],e[i+(n+=s)]=t[4],e[i+n+1]=t[5],i/s);r[a++]=e,r[a++]=1+e,r[a++]=2+e,r[a++]=1+e,r[a++]=3+e,r[a++]=2+e}},polygon:{build(e,s){for(let t=0;t<e.points.length;t++)s[t]=e.points[t];return s},triangulate(t,e,s,i,r,a){j(t,o,e,s,i,r,a)}},triangle:{build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,e},triangulate(t,e,s,i,r,a){var n=0,e=(e[(i*=s)+0]=t[0],e[i+0+1]=t[1],e[i+(n+=s)]=t[2],e[i+n+1]=t[3],e[i+(n+=s)]=t[4],e[i+n+1]=t[5],i/s);r[a++]=e,r[a++]=1+e,r[a++]=2+e}},circle:n,ellipse:n,roundedRectangle:n},_=new a.M;function c(e,t){var{geometryData:s,batches:i}=t;i.length=0,s.indices.length=0,s.vertices.length=0;for(let t=s.uvs.length=0;t<e.instructions.length;t++){var r,a,n,h,o,l,u,d,c,p,f,m,g,y=e.instructions[t];"texture"===y.action?(c=d=g=p=f=u=l=o=m=h=n=a=r=void 0,r=y.data,a=i,{vertices:h,uvs:m,indices:o}=n=s,l=o.length,u=h.length/2,f=[],p=W.rectangle,g=_,d=r.image,g.x=r.dx,g.y=r.dy,g.width=r.dw,g.height=r.dh,c=r.transform,p.build(g,f),c&&G(f,c),p.triangulate(f,h,2,u,o,l),g=d.uvs,m.push(g.x0,g.y0,g.x1,g.y1,g.x3,g.y3,g.x2,g.y2),(c=D.Z.get(Y.G)).indexOffset=l,c.indexSize=o.length-l,c.vertexOffset=u,c.vertexSize=h.length/2-u,c.color=r.style,c.alpha=r.alpha,c.texture=d,c.geometryData=n,a.push(c)):"fill"!==y.action&&"stroke"!==y.action||(p="stroke"===y.action,f=y.data.path.shapePath,m=y.data.style,g=y.data.hole,p&&g&&v(g.shapePath,m,null,!0,i,s),v(f,m,g,p,i,s))}}function v(t,k,T,E,I,R){const{vertices:B,uvs:L,indices:O}=R,F=t.shapePrimitives.length-1;t.shapePrimitives.forEach(({shape:e,transform:t},s)=>{var i=O.length,r=B.length/2,a=[],n=W[e.type];if(n.build(e,a),t&&G(a,t),E){e=e.closePath??!0;V(a,k,!1,e,B,0,0,O)}else if(T&&F===s){0!=F&&console.warn("[Pixi Graphics] only the last shape have be cut out");const P=[],S=a.slice();(function(t){if(!t)return[];var e=t.shapePrimitives,s=[];for(let t=0;t<e.length;t++){var i=e[t].shape,r=[];W[i.type].build(i,r),s.push(r)}return s})(T.shapePath).forEach(t=>{P.push(S.length/2),S.push(...t)}),j(S,P,B,2,r,O,i)}else n.triangulate(a,B,2,r,O,i);e=L.length/2,s=k.texture;if(s!==U.g.WHITE){n=k.matrix;t&&n.append(t.clone().invert());{var[h,o,l,u,d,c,p,a=null]=[B,2,r,L,e,2,B.length/2-r,n];let t=0;l*=o,d*=c;for(var f=a.a,m=a.b,g=a.c,y=a.d,_=a.tx,v=a.ty;t<p;){var x=h[l],b=h[l+1];u[d]=f*x+g*b+_,u[d+1]=m*x+y*b+v,d+=c,l+=o,t++}}}else{var A=L;var w=e;var M=2;var C=B.length/2-r;let t=0;for(w*=M;t<C;)A[w]=0,A[w+1]=0,w+=M,t++}t=D.Z.get(Y.G);t.indexOffset=i,t.indexSize=O.length-i,t.vertexOffset=r,t.vertexSize=B.length/2-r,t.color=k.color,t.alpha=k.alpha,t.texture=s,t.geometryData=R,I.push(t)})}class p{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class f{constructor(){this.geometry=new i.J,this.instructions=new r.L}init(){this.instructions.reset()}}const m=class m{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._needsContextNeedsRebuild=[]}init(t){m.defaultOptions.bezierSmoothness=t?.bezierSmoothness??m.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);var s;return t.dirty&&(e?this._cleanGraphicsContextData(t):e=this._initContext(t),c(t,e),s=t.batchMode,t.customShader||"no-batch"===s?e.isBatchable=!1:"auto"===s&&(e.isBatchable=e.geometryData.vertices.length<400),t.dirty=!1),e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_returnActiveBatchers(){for(let t=0;t<this._activeBatchers.length;t++)D.Z.return(this._activeBatchers[t]);this._activeBatchers.length=0}_initContextRenderData(t){var e=D.Z.get(f),{batches:s,geometryData:i}=this._gpuContextHash[t.uid],r=i.vertices.length,i=i.indices.length;for(let t=0;t<s.length;t++)s[t].applyTransform=!1;var a=D.Z.get(u.i);this._activeBatchers.push(a),a.ensureAttributeBuffer(r),a.ensureIndexBuffer(i),a.begin();for(let t=0;t<s.length;t++){var n=s[t];a.add(n)}a.finish(e.instructions);var r=e.geometry,h=(r.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),r.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0),a.batches);for(let t=0;t<h.length;t++){var o=h[t];o.bindGroup=(0,l.w)(o.textures.textures,o.textures.count)}return this._graphicsDataContextHash[t.uid]=e}_initContext(t){var e=new p;return this._gpuContextHash[t.uid]=e,t.on("update",this.onGraphicsContextUpdate,this),t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextUpdate(t){this._needsContextNeedsRebuild.push(t)}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("update",this.onGraphicsContextUpdate,this),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){var e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(D.Z.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(t=>{D.Z.return(t)})}destroy(){for(const t of this._needsContextNeedsRebuild)this._gpuContextHash[t.uid]&&this.onGraphicsContextDestroy(t);this._needsContextNeedsRebuild.length=0}};m.extension={type:[e.Ag.WebGLSystem,e.Ag.WebGPUSystem,e.Ag.CanvasSystem],name:"graphicsContext"},m.defaultOptions={bezierSmoothness:.5};let g=m},7276:(t,e,s)=>{"use strict";s.d(e,{_:()=>a});var i=s(2577),u=s(1761),d=s(9313),c=s(8293),p=s(4492),r=s(133);const f=class f{constructor(t,e,s,i){this.uid=(0,r.L)("fillGradient"),this.type="linear",this.gradientStops=[],this.x0=t,this.y0=e,this.x1=s,this.y1=i}addColorStop(t,e){return this.gradientStops.push({offset:t,color:i.Q.shared.setValue(e).toHex()}),this}buildLinearGradient(){var t=f.defaultTextureSize,e=this["gradientStops"],s=u.e.get().createCanvas(),i=(s.width=t,s.height=t,s.getContext("2d")),r=i.createLinearGradient(0,0,f.defaultTextureSize,1);for(let t=0;t<e.length;t++){var a=e[t];r.addColorStop(a.offset,a.color)}i.fillStyle=r,i.fillRect(0,0,t,t),this.texture=new p.g({source:new c.b({resource:s,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});var{x0:i,y0:s,x1:n,y1:h}=this,o=new d.u,n=n-i,h=h-s,l=Math.sqrt(n*n+h*h),h=Math.atan2(h,n);o.translate(-i,-s),o.scale(1/t,1/t),o.rotate(-h),o.scale(256/l,1),this.transform=o}};f.defaultTextureSize=256;let a=f},2806:(t,e,s)=>{"use strict";s.d(e,{m:()=>n});var i=s(9313),r=s(133);const a={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class n{constructor(t,e){this.uid=(0,r.L)("fillPattern"),this.transform=new i.u,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=a[e].addressModeU,t.source.style.addressModeV=a[e].addressModeV)}setTransform(t){var e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height)}}},990:(t,e,s)=>{"use strict";s.d(e,{M:()=>function(t,e){if(null==t)return null;let s,i;s=t?.fill?(i=t.fill,{...e,...t}):(i=t,e);{var r;if(n.Q.isColorLike(i))return r=n.Q.shared.setValue(i??0),{...s,color:r.toNumber(),alpha:(1===r.alpha?s:r).alpha,texture:o.g.WHITE};if(i instanceof u.m)return r=i,{...s,color:16777215,texture:r.texture,matrix:r.transform,fill:s.fill??null};if(i instanceof l._)return(a=i).buildLinearGradient(),{...s,color:16777215,texture:a.texture,matrix:a.transform}}var a={...e,...t};a.texture&&(a.texture!==o.g.WHITE&&((e=a.matrix?.invert()||new h.u).scale(1/a.texture.frame.width,1/a.texture.frame.height),a.matrix=e),"clamp-to-edge"===(t=a.texture.source.style).addressMode)&&(t.addressMode="repeat");e=n.Q.shared.setValue(a.color);return a.alpha*=e.alpha,a.color=e.toNumber(),a.matrix=a.matrix?a.matrix.clone():null,a}});var n=s(2577),h=s(9313),o=s(4492),l=s(7276),u=s(2806)},6844:(t,e,s)=>{"use strict";s.d(e,{k:()=>r});var h=s(2812),o=s(4492),i=s(2048);class r extends s(4263).mc{constructor(t=o.g.EMPTY){const{texture:e,anchor:s,roundPixels:i,width:r,height:a,...n}=t=t instanceof o.g?{texture:t}:t;super({label:"Sprite",...n}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new h.o({_onUpdate:()=>{this.onViewUpdate()}}),s?this.anchor=s:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=i??!1,r&&(this.width=r),a&&(this.height=a)}static from(t,e=!1){return t instanceof o.g?new r(t):new r(o.g.from(t,e))}set texture(t){t=t||o.g.EMPTY;var e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(t){var e=this.sourceBounds;return t.x>=e.maxX&&t.x<=e.minX&&t.y>=e.maxY&&t.y<=e.minY}addBounds(t){var e=this._texture.trim?this.sourceBounds:this.bounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}onViewUpdate(){this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate||(this.didViewUpdate=!0,this.renderGroup&&this.renderGroup.onChildViewUpdate(this))}_updateBounds(){(0,i.y)(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){var t=this._anchor,e=this._texture,s=this._sourceBounds,{width:e,height:i}=e.orig;s.maxX=-t._x*e,s.minX=s.maxX+e,s.maxY=-t._y*i,s.minY=s.maxY+i}destroy(t=!1){super.destroy(t),("boolean"==typeof t?t:t?.texture)&&(t="boolean"==typeof t?t:t?.textureSource,this._texture.destroy(t)),this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width)}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height)}getSize(t){return(t=t||{}).width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){let s,i;i="object"!=typeof t?(s=t,e??t):(s=t.width,t.height??t.width),void 0!==s&&this._setWidth(s,this._texture.orig.width),void 0!==i&&this._setHeight(i,this._texture.orig.height)}}},9010:(t,e,s)=>{"use strict";var i=s(8507),r=s(4589),a=s(1173),d=s(2233),c=s(4492),p=s(2927),h=s(9252);const o=class o{constructor(t,e){this.linkedSheets=[],this._texture=t instanceof c.g?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=e;e=parseFloat(e.meta.scale);e?(this.resolution=e,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=o.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;for(var s=o.BATCH_SIZE;e-t<s&&e<this._frameKeys.length;){var i=this._frameKeys[e],r=this._frames[i],a=r.frame;if(a){let t=null,e=null;var n=!1!==r.trimmed&&r.sourceSize?r.sourceSize:r.frame,n=new h.M(0,0,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution);t=r.rotated?new h.M(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new h.M(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==r.trimmed&&r.spriteSourceSize&&(e=new h.M(Math.floor(r.spriteSourceSize.x)/this.resolution,Math.floor(r.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[i]=new c.g({source:this.textureSource,frame:t,orig:n,trim:e,rotate:r.rotated?2:0,defaultAnchor:r.anchor,defaultBorders:r.borders,label:i.toString()})}e++}}_processAnimations(){var e=this.data.animations||{};for(const i in e){this.animations[i]=[];for(let t=0;t<e[i].length;t++){var s=e[i][t];this.animations[i].push(this.textures[s])}}}_parseComplete(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*o.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*o.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};o.BATCH_SIZE=1e3;let f=o;const n=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];s={extension:i.Ag.Asset,cache:{test:t=>t instanceof f,getCacheableAssets:(t,e)=>function s(t,i,e){const r={};if(t.forEach(t=>{r[t]=i}),Object.keys(i.textures).forEach(t=>{r[t]=i.textures[t]}),!e){const a=p.A.dirname(t[0]);i.linkedSheets.forEach((t,e)=>{e=s([a+"/"+i.data.meta.related_multi_packs[e]],t,!0),Object.assign(r,e)})}return r}(t,e,!1)},resolver:{test:t=>{var t=t.split("?")[0].split("."),e=t.pop(),t=t.pop();return"json"===e&&n.includes(t)},parse:t=>{var e=t.split(".");return{resolution:parseFloat(a.x.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:i.Ag.LoadParser,priority:r.T.Normal},async testParse(t,e){return".json"===p.A.extname(e.src).toLowerCase()&&!!t.frames},async parse(t,e,s){var{texture:i,imageFilename:r}=e?.data??{};let a=p.A.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let n;n=i instanceof c.g?i:(i=(0,d.Y)(a+(r??t.meta.image),e.src),(await s.load([i]))[i]);const h=new f(n.source,t);await h.parse();r=t?.meta?.related_multi_packs;if(Array.isArray(r)){var o,l=[];for(const u of r)"string"!=typeof u||(o=a+u,e.data?.ignoreMultiPack)||(o=(0,d.Y)(o,e.src),l.push(s.load({src:o,data:{ignoreMultiPack:!0}})));i=await Promise.all(l);(h.linkedSheets=i).forEach(e=>{e.linkedSheets=[h].concat(h.linkedSheets.filter(t=>t!==e))})}return h},async unload(t,e,s){await s.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};i.XO.add(s)},7309:(t,e,s)=>{"use strict";s.d(e,{R:()=>n});var i=s(4458);class r{constructor(t,e=null,s=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=s,this._once=i}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));t=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(t){(this.previous=t).next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e}}const a=class a{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new r(null,null,1/0),this.deltaMS=1/a.targetFPMS,this.elapsedMS=1/a.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started)&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,s=i.d.NORMAL){return this._addListener(new r(t,e,s))}addOnce(t,e,s=i.d.NORMAL){return this._addListener(new r(t,e,s,!0))}_addListener(t){let e=this._head.next,s=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(s);break}e=(s=e).next}t.previous||t.connect(s)}else t.connect(s);return this._startIfPossible(),this}remove(t,e){let s=this._head.next;for(;s;)s=s.match(t,e)?s.destroy():s.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let s;if(e>this.lastTime){if((s=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(s=this._maxElapsedMS),s*=this.speed,this._minElapsedMS){var i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=s,this.deltaTime=this.deltaMS*a.targetFPMS;i=this._head;let t=i.next;for(;t;)t=t.emit(this);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){t=Math.min(this.maxFPS,t),t=Math.min(Math.max(0,t)/1e3,a.targetFPMS);this._maxElapsedMS=1/t}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){0===t?this._minElapsedMS=0:(t=Math.max(this.minFPS,t),this._minElapsedMS=1/(t/1e3))}static get shared(){var t;return a._shared||((t=a._shared=new a).autoStart=!0,t._protected=!0),a._shared}static get system(){var t;return a._system||((t=a._system=new a).autoStart=!0,t._protected=!0),a._system}};a.targetFPMS=.06;let n=a},4458:(t,e,s)=>{"use strict";s.d(e,{d:()=>i});var i=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(i||{})},6858:(t,e,s)=>{"use strict";s.d(e,{C:()=>async function(){return i=i??(async()=>{var t,e,s,i=document.createElement("canvas").getContext("webgl");return i&&(s=await new Promise(t=>{const e=document.createElement("video");e.onloadeddata=()=>t(e),e.onerror=()=>t(null),e.autoplay=!1,e.crossOrigin="anonymous",e.preload="auto",e.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",e.load()}))&&(t=i.createTexture(),i.bindTexture(i.TEXTURE_2D,t),e=i.createFramebuffer(),i.bindFramebuffer(i.FRAMEBUFFER,e),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t,0),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,i.NONE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,s),s=new Uint8Array(4),i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,s),i.deleteFramebuffer(e),i.deleteTexture(t),i.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3])?"premultiplied-alpha":"premultiply-alpha-on-upload"})(),i}});let i},4577:(t,e,s)=>{"use strict";s.d(e,{f:()=>function(){if("boolean"!=typeof i)try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");i=!0===t({a:"b"},"a","b")}catch(t){i=!1}return i}});let i},9903:(t,e,s)=>{"use strict";s.d(e,{d:()=>function(t,e,s){var i=t.length;let r;if(!(i<=e||0===s)){s=i<e+s?i-e:s;var a=i-s;for(r=e;r<a;++r)t[r]=t[r+s];t.length=a}}})},133:(t,e,s)=>{"use strict";s.d(e,{L:()=>function(t="default"){void 0===i[t]&&(i[t]=-1);return++i[t]}});const i={default:-1}},2048:(t,e,s)=>{"use strict";s.d(e,{y:()=>function(t,e,s,i){var{width:r,height:a}=s.orig,s=s.trim;{var n,h;s?(n=s.width,h=s.height,t.minX=s.x-e._x*r-i,t.maxX=t.minX+n,t.minY=s.y-e._y*a-i,t.maxY=t.minY+h):(t.minX=-e._x*r-i,t.maxX=t.minX+r,t.minY=-e._y*a-i,t.maxY=t.minY+a)}}})},4670:(t,e,s)=>{"use strict";s.d(e,{l:()=>i,t:()=>function(e,s,i=3){if(!r[s]){let t=(new Error).stack;void 0===t?console.warn("PixiJS Deprecation Warning: ",s+`
Deprecated since v`+e):(t=t.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",s+`
Deprecated since v`+e),console.warn(t),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",s+`
Deprecated since v`+e),console.warn(t))),r[s]=!0}}});const r={},i="8.0.0"},268:(t,e,s)=>{"use strict";s.d(e,{R:()=>function(...t){i!==r&&(++i===r?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}});let i=0;const r=500},2927:(t,e,s)=>{"use strict";s.d(e,{A:()=>r});var i=s(1761);function d(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function c(t){return t.split("?")[0].split("#")[0]}const r={toPosix(t){return e="\\",s="/",t.replace(new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),s);var e,s},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){d(t),t=this.toPosix(t);var e=/^file:\/\/\//.exec(t);return(e=e||/^[^/:]+:\/{0,2}/.exec(t))?e[0]:""},toAbsolute(t,e,s){return d(t),this.isDataUrl(t)||this.isBlobUrl(t)?t:(e=c(this.toPosix(e??i.e.get().getBaseUrl())),s=c(this.toPosix(s??this.rootname(e))),(t=this.toPosix(t)).startsWith("/")?r.join(s,t.slice(1)):this.isAbsolute(t)?t:this.join(e,t))},normalize(t){if(d(t),0===t.length)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;let e="";var s=(t=this.toPosix(t)).startsWith("/"),i=(this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length)),t.endsWith("/"));return 0<(t=function(e,s){let i="",r=0,a=-1,n=0,h=-1;for(let t=0;t<=e.length;++t){if(t<e.length)h=e.charCodeAt(t);else{if(47===h)break;h=47}if(47===h){if(a!==t-1&&1!==n)if(a!==t-1&&2===n){if(i.length<2||2!==r||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(2<i.length){var o=i.lastIndexOf("/");if(o!==i.length-1){r=-1===o?(i="",0):(i=i.slice(0,o)).length-1-i.lastIndexOf("/"),a=t,n=0;continue}}else if(2===i.length||1===i.length){i="",r=0,a=t,n=0;continue}s&&(0<i.length?i+="/..":i="..",r=2)}else 0<i.length?i+="/"+e.slice(a+1,t):i=e.slice(a+1,t),r=t-a-1;a=t,n=0}else 46===h&&-1!==n?++n:n=-1}return i}(t,!1)).length&&i&&(t+="/"),s?"/"+t:e+t},isAbsolute(t){return d(t),t=this.toPosix(t),!!this.hasProtocol(t)||t.startsWith("/")},join(...e){if(0===e.length)return".";let s;for(let t=0;t<e.length;++t){var i,r=e[t];d(r),0<r.length&&(void 0===s?s=r:(i=e[t-1]??"",this.joinExtensions.includes(this.extname(i).toLowerCase())?s+="/../"+r:s+="/"+r))}return void 0===s?".":this.normalize(s)},dirname(e){if(d(e),0===e.length)return".";var t=47===(e=this.toPosix(e)).charCodeAt(0);let s=-1,i=!0;var r=this.getProtocol(e),a=e;for(let t=(e=e.slice(r.length)).length-1;1<=t;--t)if(47===e.charCodeAt(t)){if(!i){s=t;break}}else i=!1;return-1===s?t?"/":this.isUrl(a)?r+e:r:t&&1===s?"//":r+e.slice(0,s)},rootname(t){d(t),t=this.toPosix(t);let e="";var s;return e=t.startsWith("/")?"/":this.getProtocol(t),this.isUrl(t)&&(s=t.indexOf("/",e.length),(e=-1!==s?t.slice(0,s):t).endsWith("/")||(e+="/")),e},basename(s,i){d(s),i&&d(i),s=c(this.toPosix(s));let r=0,a=-1,n=!0,h;if(void 0!==i&&0<i.length&&i.length<=s.length){if(i.length===s.length&&i===s)return"";let t=i.length-1,e=-1;for(h=s.length-1;0<=h;--h){var o=s.charCodeAt(h);if(47===o){if(!n){r=h+1;break}}else-1===e&&(n=!1,e=h+1),0<=t&&(o===i.charCodeAt(t)?-1==--t&&(a=h):(t=-1,a=e))}return r===a?a=e:-1===a&&(a=s.length),s.slice(r,a)}for(h=s.length-1;0<=h;--h)if(47===s.charCodeAt(h)){if(!n){r=h+1;break}}else-1===a&&(n=!1,a=h+1);return-1===a?"":s.slice(r,a)},extname(e){d(e);let s=-1,i=0,r=-1,a=!0,n=0;for(let t=(e=c(this.toPosix(e))).length-1;0<=t;--t){var h=e.charCodeAt(t);if(47===h){if(a)continue;i=t+1;break}-1===r&&(a=!1,r=t+1),46===h?-1===s?s=t:1!==n&&(n=1):-1!==s&&(n=-1)}return-1===s||-1===r||0===n||1===n&&s===r-1&&s===i+1?"":e.slice(s,r)},parse(h){d(h);var o={root:"",dir:"",base:"",ext:"",name:""};if(0!==h.length){(h=c(this.toPosix(h))).charCodeAt(0);var l,u=this.isAbsolute(h);let t;o.root=this.rootname(h),t=u||this.hasProtocol(h)?1:0;let e=-1,s=0,i=-1,r=!0,a=h.length-1,n=0;for(;a>=t;--a){if(47===(l=h.charCodeAt(a))){if(r)continue;s=a+1;break}-1===i&&(r=!1,i=a+1),46===l?-1===e?e=a:1!==n&&(n=1):-1!==e&&(n=-1)}-1===e||-1===i||0===n||1===n&&e===i-1&&e===s+1?-1!==i&&(0===s&&u?o.base=o.name=h.slice(1,i):o.base=o.name=h.slice(s,i)):(0===s&&u?(o.name=h.slice(1,e),o.base=h.slice(1,i)):(o.name=h.slice(s,e),o.base=h.slice(s,i)),o.ext=h.slice(e,i)),o.dir=this.dirname(h)}return o},sep:"/",delimiter:":",joinExtensions:[".html"]}},8425:(t,e,s)=>{"use strict";s.d(e,{b:()=>i});class i{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(e){for(let t=0;t<e;t++)this._pool[this._index++]=new this._classType;this._count+=e}get(t){let e;return(e=0<this._index?this._pool[--this._index]:new this._classType).init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}},8218:(t,e,s)=>{"use strict";s.d(e,{Z:()=>r});var i=s(8425);const r=new class{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new i.b(t)),this._poolsByClass.get(t)}stats(){const s={};return this._poolsByClass.forEach(t=>{var e=s[t._classType.name]?t._classType.name+t._classType.ID:t._classType.name;s[e]={free:t.totalFree,used:t.totalUsed,size:t.totalSize}}),s}}}},i={};function m(t){var e=i[t];return void 0!==e||(e=i[t]={exports:{}},s[t](e,e.exports,m)),e.exports}m.m=s,u="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",d="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",c="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",p=t=>{t&&t.d<1&&(t.d=1,t.forEach(t=>t.r--),t.forEach(t=>t.r--?t.r++:t()))},m.a=(t,e,s)=>{s&&((r=[]).d=-1);var r,a,i,n,h=new Set,o=t.exports,l=new Promise((t,e)=>{n=e,i=t});l[d]=o,l[u]=t=>(r&&t(r),h.forEach(t),l.catch(t=>{})),t.exports=l,e(t=>{a=t.map(t=>{if(null!==t&&"object"==typeof t){if(t[u])return t;var e,s;if(t.then)return(e=[]).d=0,t.then(t=>{s[d]=t,p(e)},t=>{s[c]=t,p(e)}),(s={})[u]=t=>t(e),s}var i={};return i[u]=t=>{},i[d]=t,i});var s,i=()=>a.map(t=>{if(t[c])throw t[c];return t[d]}),t=new Promise(t=>{(s=()=>t(i)).r=0;var e=t=>t!==r&&!h.has(t)&&(h.add(t),t)&&!t.d&&(s.r++,t.push(s));a.map(t=>t[u](e))});return s.r?t:i()},t=>(t?n(l[c]=t):i(o),p(r))),r&&r.d<0&&(r.d=0)},m.d=(t,e)=>{for(var s in e)m.o(e,s)&&!m.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},m.f={},m.e=s=>Promise.all(Object.keys(m.f).reduce((t,e)=>(m.f[e](s,t),t),[])),m.u=t=>t+".js",m.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),m.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),f={},m.l=(i,t,e,s)=>{if(f[i])f[i].push(t);else{var r,a;if(void 0!==e)for(var n=document.getElementsByTagName("script"),h=0;h<n.length;h++){var o=n[h];if(o.getAttribute("src")==i||o.getAttribute("data-webpack")=="al:"+e){r=o;break}}r||(a=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,m.nc&&r.setAttribute("nonce",m.nc),r.setAttribute("data-webpack","al:"+e),r.src=i),f[i]=[t];var t=(t,e)=>{r.onerror=r.onload=null,clearTimeout(l);var s=f[i];if(delete f[i],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach(t=>t(e)),t)return t(e)},l=setTimeout(t.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=t.bind(null,r.onerror),r.onload=t.bind(null,r.onload),a&&document.head.appendChild(r)}},m.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},m.g.importScripts&&(e=m.g.location+"");var e,r=m.g.document;if(!e&&r&&!(e=r.currentScript?r.currentScript.src:e)){var a=r.getElementsByTagName("script");if(a.length)for(var n=a.length-1;-1<n&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),m.p=e,o={792:0},m.f.j=(s,t)=>{var e,i,r=m.o(o,s)?o[s]:void 0;0!==r&&(r?t.push(r[2]):(e=new Promise((t,e)=>r=o[s]=[t,e]),t.push(r[2]=e),t=m.p+m.u(s),i=new Error,m.l(t,t=>{var e;m.o(o,s)&&(0!==(r=o[s])&&(o[s]=void 0),r)&&(e=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,i.message="Loading chunk "+s+" failed.\n("+e+": "+t+")",i.name="ChunkLoadError",i.type=e,i.request=t,r[1](i))},"chunk-"+s,s)))},r=(t,e)=>{var s,i,[r,a,n]=e,h=0;if(r.some(t=>0!==o[t])){for(s in a)m.o(a,s)&&(m.m[s]=a[s]);n&&n(m)}for(t&&t(e);h<r.length;h++)i=r[h],m.o(o,i)&&o[i]&&o[i][0](),o[i]=0},(t=self.webpackChunkal=self.webpackChunkal||[]).forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t));m(4497)})();